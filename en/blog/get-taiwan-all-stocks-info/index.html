<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Get All Stock Code Information from TWSE | DOCSAID</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docsaid.org/en/blog/get-taiwan-all-stocks-info><meta data-rh=true property=og:locale content=en><meta data-rh=true property=og:locale:alternate content=zh_hant><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docusaurus_tag content=default><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docsearch:docusaurus_tag content=default><meta data-rh=true property=og:title content="Get All Stock Code Information from TWSE | DOCSAID"><meta data-rh=true name=description content="Get information on all stocks listed on TWSE using Python."><meta data-rh=true property=og:description content="Get information on all stocks listed on TWSE using Python."><meta data-rh=true property=og:image content=https://docsaid.org/en/img/2024/0610.webp><meta data-rh=true name=twitter:image content=https://docsaid.org/en/img/2024/0610.webp><meta data-rh=true property=og:type content=article><meta data-rh=true property=article:published_time content=2024-06-10T00:00:00.000Z><meta data-rh=true property=article:author content=https://github.com/zephyr-sh><meta data-rh=true property=article:tag content=beautifulsoup4,TWSE><link data-rh=true rel=icon href=/en/img/favicon.ico><link data-rh=true rel=canonical href=https://docsaid.org/en/blog/get-taiwan-all-stocks-info><link data-rh=true rel=alternate href=https://docsaid.org/blog/get-taiwan-all-stocks-info hreflang=zh-hant><link data-rh=true rel=alternate href=https://docsaid.org/en/blog/get-taiwan-all-stocks-info hreflang=en><link data-rh=true rel=alternate href=https://docsaid.org/ja/blog/get-taiwan-all-stocks-info hreflang=ja><link data-rh=true rel=alternate href=https://docsaid.org/blog/get-taiwan-all-stocks-info hreflang=x-default><link data-rh=true rel=preconnect href=https://S9NC0RYCHF-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://docsaid.org/en/blog/get-taiwan-all-stocks-info","@type":"BlogPosting","author":{"@type":"Person","description":"Dosaid maintainer, Full-Stack AI Engineer","image":"https://github.com/zephyr-sh.png","name":"Z. Yuan","url":"https://github.com/zephyr-sh"},"datePublished":"2024-06-10T00:00:00.000Z","description":"Get information on all stocks listed on TWSE using Python.","headline":"Get All Stock Code Information from TWSE","image":{"@id":"https://docsaid.org/en/img/2024/0610.webp","@type":"ImageObject","caption":"title image for the blog post: Get All Stock Code Information from TWSE","contentUrl":"https://docsaid.org/en/img/2024/0610.webp","url":"https://docsaid.org/en/img/2024/0610.webp"},"isPartOf":{"@id":"https://docsaid.org/en/blog","@type":"Blog","name":"Blog"},"keywords":[],"mainEntityOfPage":"https://docsaid.org/en/blog/get-taiwan-all-stocks-info","name":"Get All Stock Code Information from TWSE","url":"https://docsaid.org/en/blog/get-taiwan-all-stocks-info"}</script><link rel=alternate type=application/rss+xml href=/en/blog/rss.xml title="DOCSAID RSS Feed"><link rel=alternate type=application/atom+xml href=/en/blog/atom.xml title="DOCSAID Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-RDF83L9R4M"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RDF83L9R4M",{anonymize_ip:!0})</script><link rel=search type=application/opensearchdescription+xml title=DOCSAID href=/en/opensearch.xml><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css type=text/css integrity=sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM crossorigin=anonymous><link rel=stylesheet href=/en/assets/css/styles.f708900f.css><script src=/en/assets/js/runtime~main.5836c115.js defer></script><script src=/en/assets/js/main.2413b562.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/en/img/docsaid_logo.png><link rel=preload as=image href=/en/img/docsaid_logo_white.png><link rel=preload as=image href=https://github.com/zephyr-sh.png><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/en/><div class=navbar__logo><img src=/en/img/docsaid_logo.png alt="Docsaid Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/en/img/docsaid_logo_white.png alt="Docsaid Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href=/en/docs/>Projects</a><a class="navbar__item navbar__link" href=/en/papers/intro>Papers</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/en/blog>Blog</a><a class="navbar__item navbar__link" href=/en/playground/intro>Playground</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/blog/get-taiwan-all-stocks-info target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-hant>繁體中文</a><li><a href=/en/blog/get-taiwan-all-stocks-info target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a><li><a href=/ja/blog/get-taiwan-all-stocks-info target=_self rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a></ul></div><a href=https://github.com/DocsaidLab target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a href=https://buymeacoffee.com/docsaid target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Support Us<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a class="navbar__item navbar__link" href=/en/aboutus>About Us</a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_eExm"><div class=blog-hero-fullwidth><div class=postHero_mmE7 style=background-image:url(/en/img/2024/0610.webp)><div class=postHeroOverlay_UDxJ><h1 class=postTitle_weFP>Get All Stock Code Information from TWSE</h1><div class=postMeta_oUa9><div class=postAuthors_wLk4><div class=postAuthor_NvIn><img class=postAuthorImg_omQD src=https://github.com/zephyr-sh.png alt="Z. Yuan"><div class=postAuthorText_C6S8><a href=https://github.com/zephyr-sh target=_blank rel="noopener noreferrer" class=postAuthorLink_uKn3><span class=postAuthorName_SaVw>Z. Yuan</span></a><span class=postAuthorTitle_UTso>Dosaid maintainer, Full-Stack AI Engineer</span></div></div></div><div class=postMetaInfo__nS4><div class=postMetaRow_zK0w><span class=postDate_B0aP>2024年6月10日</span><span class=postReadingTime_roVj>3<!-- --> min read</span></div><div class=postTags_nipL><a class=postTag_inik href=/en/blog/tags/beautifulsoup-4>beautifulsoup4</a><a class=postTag_inik href=/en/blog/tags/twse>TWSE</a></div></div></div></div></div></div><div class="container margin-vert--lg"><div class=row><main class="col col--9"><article class=markdown style="max-width:800px;margin:2rem auto"><article class=""><div><div id=__blog-post-container class=markdown><p>The stock codes in the Taiwanese market change periodically, making manual tracking impractical.</p>
<p>It's time to automate!</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=setup-environment>Setup Environment<a href=#setup-environment class=hash-link aria-label="Direct link to Setup Environment" title="Direct link to Setup Environment">​</a></h2>
<p>Let's tackle the challenge by writing a program. First, install the necessary packages:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">pip install requests beautifulsoup4 json</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_BuS1><p>Assuming you have a functional Python environment.</div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=target-webpages>Target Webpages<a href=#target-webpages class=hash-link aria-label="Direct link to Target Webpages" title="Direct link to Target Webpages">​</a></h2>
<p>Stock-related data resides on the website of the Taiwan Stock Exchange (TWSE). Let's identify the target pages:</p>
<ul>
<li>
<p><a href=https://www.twse.com.tw/en/products/code/announcement.html target=_blank rel="noopener noreferrer"><strong>Taiwan Stock Exchange/Securities Code Announcement</strong></a></p>
<div align=center><figure style=width:80%><p><img decoding=async loading=lazy alt=TWSE src=/en/assets/images/img1-127414ab0646293a663eeab2cd7524ea.jpg width=3322 height=1851 class=img_ev3q></figure></div>
</li>
</ul>
<p>Note down these three URLs:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">urls </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"https://isin.twse.com.tw/isin/C_public.jsp?strMode=2"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic># Listed securities</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"https://isin.twse.com.tw/isin/C_public.jsp?strMode=4"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic># OTC securities</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"https://isin.twse.com.tw/isin/C_public.jsp?strMode=5"</span><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic># Emerging stocks</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=parsing-the-webpage>Parsing the Webpage<a href=#parsing-the-webpage class=hash-link aria-label="Direct link to Parsing the Webpage" title="Direct link to Parsing the Webpage">​</a></h2>
<div align=center><figure style=width:80%><p><img decoding=async loading=lazy alt=stock_table src=/en/assets/images/img2-4ffe9c13206f8f5db60e1155ad8a9a89.jpg width=3799 height=1077 class=img_ev3q></figure></div>
<p>Upon inspecting the webpage, we identify that the main table corresponds to the HTML tag <code>class=h4</code>.</p>
<p>Now that we've located our target, let's start coding:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_Ktv7>update_stocks_code.py</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> json</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> requests</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>from</span><span class="token plain"> bs4 </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> BeautifulSoup</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Retrieve content from Taiwan Stock Exchange announcements</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">urls </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"https://isin.twse.com.tw/isin/C_public.jsp?strMode=2"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic># Listed securities</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"https://isin.twse.com.tw/isin/C_public.jsp?strMode=4"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic># OTC securities</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"https://isin.twse.com.tw/isin/C_public.jsp?strMode=5"</span><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic># Emerging stocks</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># All data infos</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">data </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">total_urls </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">urls</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> index</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> url </span><span class="token keyword" style=color:#00009f>in</span><span class="token plain"> </span><span class="token builtin">enumerate</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">urls</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> start</span><span class="token operator" style=color:#393A34>=</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>print</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string-interpolation string" style=color:#e3116c>f"Processing URL </span><span class="token string-interpolation interpolation punctuation" style=color:#393A34>{</span><span class="token string-interpolation interpolation">index</span><span class="token string-interpolation interpolation punctuation" style=color:#393A34>}</span><span class="token string-interpolation string" style=color:#e3116c>/</span><span class="token string-interpolation interpolation punctuation" style=color:#393A34>{</span><span class="token string-interpolation interpolation">total_urls</span><span class="token string-interpolation interpolation punctuation" style=color:#393A34>}</span><span class="token string-interpolation string" style=color:#e3116c>: </span><span class="token string-interpolation interpolation punctuation" style=color:#393A34>{</span><span class="token string-interpolation interpolation">url</span><span class="token string-interpolation interpolation punctuation" style=color:#393A34>}</span><span class="token string-interpolation string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    response </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> requests</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">get</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">url</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    response</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">encoding </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'big5'</span><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic># Set the correct encoding</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic># Parse HTML using BeautifulSoup</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    soup </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> BeautifulSoup</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">response</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">text</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'html.parser'</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    table </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> soup</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">find</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>'table'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>'class'</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'h4'</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>not</span><span class="token plain"> table</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>print</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string-interpolation string" style=color:#e3116c>f"Table not found for URL: </span><span class="token string-interpolation interpolation punctuation" style=color:#393A34>{</span><span class="token string-interpolation interpolation">url</span><span class="token string-interpolation interpolation punctuation" style=color:#393A34>}</span><span class="token string-interpolation string" style=color:#e3116c>"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>continue</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> row </span><span class="token keyword" style=color:#00009f>in</span><span class="token plain"> table</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">find_all</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>'tr'</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>:</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic># Skip header row</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        cells </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> row</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">find_all</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>'td'</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">cells</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>7</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>continue</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        code</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> name </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> cells</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">text</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">split</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"\u3000"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        internationality </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> cells</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">text</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        list_date </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> cells</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">text</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        market_type </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> cells</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">text</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        industry_type </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> cells</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>4</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">text</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        data</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">code</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"Name"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> name</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"Code"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> code</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"Market Type"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> market_type</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"Industry Type"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> industry_type</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"Listing Date"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> list_date</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"International Code"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> internationality</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"stock_infos.json"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"w"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> encoding</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"utf-8"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>as</span><span class="token plain"> f</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    json</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">dump</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">data</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> f</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> ensure_ascii</span><span class="token operator" style=color:#393A34>=</span><span class="token boolean" style=color:#36acaa>False</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> indent</span><span class="token operator" style=color:#393A34>=</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>print</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"All data has been processed and saved to stock_infos.json"</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=output-results>Output Results<a href=#output-results class=hash-link aria-label="Direct link to Output Results" title="Direct link to Output Results">​</a></h2>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_Ktv7>stock_infos.json</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"1101"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Name"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Taiwan Cement"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Code"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1101"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Market Type"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Listed"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Industry Type"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Cement Industry"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Listing Date"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1962/02/09"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"International Code"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"TW0001101004"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"1102"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Name"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Asia Cement"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Code"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1102"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Market Type"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Listed"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Industry Type"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Cement Industry"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Listing Date"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1962/06/08"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"International Code"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"TW0001102002"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  ...omitting the rest...</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>We output the result as a JSON file for convenient integration with other programs.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=faqs>FAQs<a href=#faqs class=hash-link aria-label="Direct link to FAQs" title="Direct link to FAQs">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=i-only-want-ordinary-stocks>I only want ordinary stocks.<a href=#i-only-want-ordinary-stocks class=hash-link aria-label="Direct link to I only want ordinary stocks." title="Direct link to I only want ordinary stocks.">​</a></h3>
<p>I assume you mean stocks with "four-digit" codes, excluding ETFs, warrants, etc. To achieve this, simply add a filtering condition in the program:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">code</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>4</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>continue</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=i-only-want-specific-industries>I only want specific industries.<a href=#i-only-want-specific-industries class=hash-link aria-label="Direct link to I only want specific industries." title="Direct link to I only want specific industries.">​</a></h3>
<p>This requirement can be extended to specific market types, industry types, listing dates, or even the previous "ordinary stocks" question. We just need to load the output JSON file into Pandas and filter with conditions:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> pandas </span><span class="token keyword" style=color:#00009f>as</span><span class="token plain"> pd</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">df </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> pd</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">read_json</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"stock_infos.json"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> orient</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"index"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">target </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> df</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">df</span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"Industry Type"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>==</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Cement Industry"</span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=the-program-is-broken>The program is broken.<a href=#the-program-is-broken class=hash-link aria-label="Direct link to The program is broken." title="Direct link to The program is broken.">​</a></h3>
<p>That could be due to changes in the TWSE website's layout, causing the HTML structure to alter. We'll need to adjust the code accordingly.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=conclusion>Conclusion<a href=#conclusion class=hash-link aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>By periodically running this program, we can obtain the latest stock information.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_BuS1><p>Since you're here, why not take a moment to enjoy a cup of tea before you go?<p>We also wrote an API to integrate FinMind's stock data. By clicking the download button below, you can retrieve the latest stock information from FinMind. The data format may differ from the one used by the stock exchange, but you probably won't mind.<div style=text-align:center;margin-top:20px><div class="ant-select ant-select-outlined css-7ny38l ant-select-single ant-select-show-arrow" style=width:120px;margin-right:10px><div class=ant-select-selector><span class=ant-select-selection-wrap><span class=ant-select-selection-search><input type=search autocomplete=off class=ant-select-selection-search-input role=combobox aria-expanded=false aria-haspopup=listbox aria-owns=undefined_list aria-autocomplete=list aria-controls=undefined_list readonly unselectable=on style=opacity:0 value=""></span><span class=ant-select-selection-item title=JSON>JSON</span></span></div><span class=ant-select-arrow style=user-select:none;-webkit-user-select:none unselectable=on aria-hidden=true><span role=img aria-label=down class="anticon anticon-down ant-select-suffix"><svg viewBox="64 64 896 896" focusable=false data-icon=down width=1em height=1em fill=currentColor aria-hidden=true><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"/></svg></span></span></div><button type=button class="ant-btn css-7ny38l ant-btn-primary ant-btn-color-primary ant-btn-variant-solid"><span class=ant-btn-icon><span role=img aria-label=download class="anticon anticon-download"><svg viewBox="64 64 896 896" focusable=false data-icon=download width=1em height=1em fill=currentColor aria-hidden=true><path d="M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"/></svg></span></span><span>Download Stocks</span></button></div></div></div></div></div><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button></article></article><div style=margin-top:3rem> </div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/en/blog/nist-and-frvt><div class=pagination-nav__sublabel>Newer Post</div><div class=pagination-nav__label>NIST & FRVT</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/en/blog/windows-python-settings><div class=pagination-nav__sublabel>Older Post</div><div class=pagination-nav__label>Simple Configuration of Python Environment on Win11</div></a></nav></main><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All our posts</div><div role=group><h3 class=yearGroupHeading_rMGB>2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/amazon-ses-setting-dns-on-namecheap>Setting Up Amazon SES DNS on Namecheap</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/download-from-google-drive-using-python>Download Files from Google Drive Using Python</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/mount-disk-on-ubuntu>Mounting a USB Drive on Ubuntu</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/github-markdown-advanced-syntax>Useful GitHub Markdown Syntax</a></ul></div><div role=group><h3 class=yearGroupHeading_rMGB>2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/extract-font-info-by-python>Extract Font File Information</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/flexible-video-conversion-by-python>Batch Video Conversion</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/system-status-checking-by-chatgpt>Automating Ubuntu System Status Checks with ChatGPT</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/customized-docusaurus-author-to-plugin-content-docs>Add Author Info to Docusaurus Docs</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/graph-convolutional-networks>A Brief Introduction to Graph Convolutional Networks</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/fourier-transform>A Brief Introduction to Fourier Transform</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/fixed-pyenv-install-error>Fixing pyenv Build Errors</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/update-docusaurus-to-3-6-0>Update Docusaurus to 3.6.0</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/file-crawler-python-implementation>Python Implementation of a Web File Downloader</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/customized-docusaurus-sidebars-auto-count>Automatically Count Articles in Docusaurus Sidebar</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/customized-docusaurus-404-page>Customizing the Docusaurus 404 Page</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/torch-layernorm-mismatch>Discrepancy in LayerNorm Calculations?</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/nist-and-frvt>NIST & FRVT</a><li class=sidebarItem__DBe><a aria-current=page class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href=/en/blog/get-taiwan-all-stocks-info>Get All Stock Code Information from TWSE</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/windows-python-settings>Simple Configuration of Python Environment on Win11</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/latex-usage>LaTeX Syntax Quick Reference</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/impl-normalized-levenshtein-similarity>Implementing ANLS</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/python-js-basic-command-equivalents>Equivalent Basic Commands between Python and JS</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/vscode-settings>Common VSCode Configuration Settings</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/setting-up-nextcloud>Setting Up Nextcloud Guide</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/pytorch-training-out-of-memory>The Pitfall of Lists in PyTorch</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/convert-pdf-to-images>Convert PDF to Images using Python</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/opencv-imread>Reading HEIC Images in Python</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/error-record>Daily Error Troubleshooting Log</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/gosu-usage>User Switching Tool in Containers: gosu</a></ul></div><div role=group><h3 class=yearGroupHeading_rMGB>2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/buy-a-new-computer>Building a New Computer</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/pyenv-installation>Managing Python Versions with pyenv</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/python-env-info-collector>Recording Model Training Environment Issues</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/setting-up-pypiserver-on-ubuntu-with-docker>Setting Up PyPiServer on Ubuntu</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/ubuntu-install-ssh>Setting Up SSH Server on Ubuntu</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/ubuntu-github-runner-systemd>Automating GitHub Runner with Systemd</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/login-rtf8207w>Logging into RTF8207W Router</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/fail2ban-settings>Fail2ban: Protecting SSH Service</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/unicode-table>Unicode Table</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/en/blog/mac-selective-vpn-routing>Setting Up Selective Traffic Routing for VPN on Mac</a></ul></div></nav></aside><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#setup-environment class="table-of-contents__link toc-highlight">Setup Environment</a><li><a href=#target-webpages class="table-of-contents__link toc-highlight">Target Webpages</a><li><a href=#parsing-the-webpage class="table-of-contents__link toc-highlight">Parsing the Webpage</a><li><a href=#output-results class="table-of-contents__link toc-highlight">Output Results</a><li><a href=#faqs class="table-of-contents__link toc-highlight">FAQs</a><ul><li><a href=#i-only-want-ordinary-stocks class="table-of-contents__link toc-highlight">I only want ordinary stocks.</a><li><a href=#i-only-want-specific-industries class="table-of-contents__link toc-highlight">I only want specific industries.</a><li><a href=#the-program-is-broken class="table-of-contents__link toc-highlight">The program is broken.</a></ul><li><a href=#conclusion class="table-of-contents__link toc-highlight">Conclusion</a></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class=footer__links><a class=footer__link-item href=/en/docs>Projects</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/papers/intro>Papers</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/blog>Blog</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/terms-of-service>TermsOfUse</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/privacy-policy>Privacy Policy</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/become-an-author>Become an author</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/worklog>Worklog</a><span class=footer__link-separator>·</span><a href=https://buymeacoffee.com/docsaid target=_blank rel="noopener noreferrer" class=footer__link-item>Support Us<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2024 DOCSAID.</div></div></div></footer></div>