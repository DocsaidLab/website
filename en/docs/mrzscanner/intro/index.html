<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-mrzscanner/intro" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Introduction | DOCSAID</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://docsaid.org/en/img/docsaid-social-card.jpg><meta data-rh=true name=twitter:image content=https://docsaid.org/en/img/docsaid-social-card.jpg><meta data-rh=true property=og:url content=https://docsaid.org/en/docs/mrzscanner/intro><meta data-rh=true property=og:locale content=en><meta data-rh=true property=og:locale:alternate content=zh_hant><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Introduction | DOCSAID"><meta data-rh=true name=description content="MRZ (Machine Readable Zone) refers to a specific area on travel documents such as passports, visas, and identity cards, where the information can be quickly read by machines. MRZ is designed and generated according to the International Civil Aviation Organization (ICAO) Document 9303, which helps speed up border checks and improve the accuracy of information processing."><meta data-rh=true property=og:description content="MRZ (Machine Readable Zone) refers to a specific area on travel documents such as passports, visas, and identity cards, where the information can be quickly read by machines. MRZ is designed and generated according to the International Civil Aviation Organization (ICAO) Document 9303, which helps speed up border checks and improve the accuracy of information processing."><link data-rh=true rel=icon href=/en/img/favicon.ico><link data-rh=true rel=canonical href=https://docsaid.org/en/docs/mrzscanner/intro><link data-rh=true rel=alternate href=https://docsaid.org/docs/mrzscanner/intro hreflang=zh-hant><link data-rh=true rel=alternate href=https://docsaid.org/en/docs/mrzscanner/intro hreflang=en><link data-rh=true rel=alternate href=https://docsaid.org/ja/docs/mrzscanner/intro hreflang=ja><link data-rh=true rel=alternate href=https://docsaid.org/docs/mrzscanner/intro hreflang=x-default><link data-rh=true rel=preconnect href=https://S9NC0RYCHF-dsn.algolia.net crossorigin=anonymous><link rel=alternate type=application/rss+xml href=/en/blog/rss.xml title="DOCSAID RSS Feed"><link rel=alternate type=application/atom+xml href=/en/blog/atom.xml title="DOCSAID Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-RDF83L9R4M"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RDF83L9R4M",{anonymize_ip:!0})</script><link rel=search type=application/opensearchdescription+xml title=DOCSAID href=/en/opensearch.xml><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css type=text/css integrity=sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM crossorigin=anonymous><link rel=stylesheet href=/en/assets/css/styles.8feb4cd0.css><script src=/en/assets/js/runtime~main.e497daa2.js defer></script><script src=/en/assets/js/main.8221b36e.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/en/img/docsaid_logo.png><link rel=preload as=image href=/en/img/docsaid_logo_white.png><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/en/><div class=navbar__logo><img src=/en/img/docsaid_logo.png alt="Docsaid Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/en/img/docsaid_logo_white.png alt="Docsaid Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/en/docs/>Projects</a><a class="navbar__item navbar__link" href=/en/papers/intro>Papers</a><a class="navbar__item navbar__link" href=/en/blog>Blog</a><a class="navbar__item navbar__link" href=/en/playground/intro>Playground</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/docs/mrzscanner/intro target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-hant>繁體中文</a><li><a href=/en/docs/mrzscanner/intro target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a><li><a href=/ja/docs/mrzscanner/intro target=_self rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a></ul></div><a href=https://github.com/DocsaidLab target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a href=https://buymeacoffee.com/docsaid target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Support Us<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a class="navbar__item navbar__link" href=/en/aboutus>About Us</a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/en/><img src=/en/img/docsaid_logo.png alt="Docsaid Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/en/img/docsaid_logo_white.png alt="Docsaid Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b></b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/en/docs/>Open Source Project</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/model-training-guide/>Model Training Guide</a><button aria-label="Expand sidebar category 'Model Training Guide'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/autotraderx/>AutoTraderX</a><button aria-label="Expand sidebar category 'AutoTraderX'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/capybara/>Capybara</a><button aria-label="Expand sidebar category 'Capybara'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/docaligner/>DocAligner</a><button aria-label="Expand sidebar category 'DocAligner'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/docclassifier/>DocClassifier</a><button aria-label="Expand sidebar category 'DocClassifier'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/docsaidkit/>DocsaidKit</a><button aria-label="Expand sidebar category 'DocsaidKit'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/gmailsummary/>GmailSummary</a><button aria-label="Expand sidebar category 'GmailSummary'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/en/docs/mrzscanner/>MRZScanner</a><button aria-label="Collapse sidebar category 'MRZScanner'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/en/docs/mrzscanner/intro>Introduction</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/mrzscanner/installation>Installation</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/mrzscanner/quickstart>Quick Start</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/mrzscanner/advance>Advanced</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/mrzscanner/model_arch>Model Design</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/mrzscanner/dataset>Dataset</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/mrzscanner/summit_data>Submission</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/mrzscanner/reference>References</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/wordcanvas/>WordCanvas</a><button aria-label="Expand sidebar category 'WordCanvas'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/en/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/en/docs/mrzscanner/><span itemprop=name>MRZScanner</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Introduction</span><meta itemprop=position content=2></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction</h1></header>
<p>MRZ (Machine Readable Zone) refers to a specific area on travel documents such as passports, visas, and identity cards, where the information can be quickly read by machines. MRZ is designed and generated according to the International Civil Aviation Organization (ICAO) Document 9303, which helps speed up border checks and improve the accuracy of information processing.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>Interested readers can refer to: <a href=/en/docs/mrzscanner/reference#icao-9303><strong>Document 9303</strong></a></div></div>
<p>Most people may not know what MRZ is, but they usually have a passport in hand, which contains an MRZ block that looks like this, with the red-bordered part:</p>
<figure><p><img decoding=async loading=lazy alt="mrz example" src=/en/assets/images/img1-e65e6f83f042bd41ad1710cadb8ef9d9.jpg width=2814 height=1975 class=img_ev3q>
<figcaption>Image source: <a href=http://l3i-share.univ-lr.fr/MIDV2020/midv2020.html target=_blank rel="noopener noreferrer"><strong>MIDV-2020 Synthetic Dataset</strong></a></figcaption><p></figure>
<hr>
<p>In addition to passports, identity cards, driver's licenses, visas, and other documents in some countries also contain MRZ blocks.</p>
<p>We can observe that MRZ blocks have several distinct features:</p>
<ol>
<li><strong>Fixed Structure</strong>: Different types of MRZ have different structures, and the meaning of each field is fixed.</li>
<li><strong>Clean Text Area</strong>: The MRZ background is monochrome, the text is black, and there is a consistent gap between characters.</li>
<li><strong>Simple Classification</strong>: The MRZ block contains only numbers and uppercase letters, with only 37 possible characters in total.</li>
</ol>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>The structure of MRZ varies depending on the document type, mainly including the following:<ol>
<li><strong>TD1 (Identity card, etc.):</strong> Composed of three lines with 30 characters per line, totaling 90 characters.</li>
<li><strong>TD2 (Passport cards, etc.):</strong> Composed of two lines with 36 characters per line, totaling 72 characters.</li>
<li><strong>TD3 (Passports, etc.):</strong> Composed of two lines with 44 characters per line, totaling 88 characters.</li>
<li><strong>MRVA (Visa Type A):</strong> Composed of two lines with 44 characters per line, totaling 88 characters.</li>
<li><strong>MRVB (Visa Type B):</strong> Composed of two lines with 36 characters per line, totaling 72 characters.</li>
</ol></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=structure-overview>Structure Overview<a href=#structure-overview class=hash-link aria-label="Direct link to Structure Overview" title="Direct link to Structure Overview">​</a></h2>
<p>We refer to the well-known MRZ parsing project on GitHub, <a href=https://github.com/Arg0s1080/mrz target=_blank rel="noopener noreferrer"><strong>Arg0s1080/mrz</strong></a>, to explain the MRZ structure:</p>
<p><img decoding=async loading=lazy alt="field distribution" src=/en/assets/images/Fields_Distribution-a28293a4a696dc48d1af0bb8197670a3.png width=842 height=850 class=img_ev3q></p>
<hr>
<p>From the above diagram, we can clearly understand the meaning of each MRZ block:</p>
<ol>
<li><strong>Type</strong>: Document type, including passport, ID card, visa, etc.</li>
<li><strong>Country Code</strong>: Issuing country code</li>
<li><strong>Surname</strong>: Surname</li>
<li><strong>Given Names</strong>: Given names</li>
<li><strong>Document Number</strong>: Document number</li>
<li><strong>National</strong>: Nationality</li>
<li><strong>Date of Birth</strong>: Date of birth</li>
<li><strong>Date of Expiry</strong>: Expiry date</li>
<li><strong>Optional</strong>: Custom fields</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=text-recognition>Text Recognition<a href=#text-recognition class=hash-link aria-label="Direct link to Text Recognition" title="Direct link to Text Recognition">​</a></h2>
<p>The topic of this article is "MRZ Text Recognition," which is a relatively niche subject with few research papers. However, if we break down the problem, it's essentially an OCR problem. By fine-tuning a few OCR models, the problem can be solved.</p>
<p>But that's a waste! A huge waste!</p>
<p>OCR models are generally designed to recognize various types of text, including numbers, uppercase and lowercase letters, punctuation marks, etc. The prediction head might cover thousands of text classes, making such models more complex and requiring more computing resources.</p>
<p>If such a model were directly applied to MRZ recognition, it would seem unprofessional, right?</p>
<p>Therefore, we need to redesign the model specifically for MRZ's characteristics. A dedicated model like this can more efficiently complete the task, avoiding unnecessary text types, thus saving computing resources and improving recognition speed and accuracy.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=two-stage-recognition>Two-Stage Recognition<a href=#two-stage-recognition class=hash-link aria-label="Direct link to Two-Stage Recognition" title="Direct link to Two-Stage Recognition">​</a></h3>
<p>Since we are designing a dedicated model, we can divide MRZ recognition into two stages:</p>
<ol>
<li><strong>Region Localization</strong>: Use a lightweight model focused on locating the MRZ block in the image.</li>
<li><strong>Text Recognition</strong>: Use a lightweight model focused on recognizing the text within the MRZ block in the image.</li>
</ol>
<p>We did it! We spent one week building the MRZ localization model, and another week for the MRZ recognition model. Combined, the two models are about 5 MB, and the recognition accuracy per frame of image is about 95%.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_BuS1><p><strong>Definition:</strong> The accuracy mentioned above refers to the correct recognition of all text within the MRZ block. If even one character is incorrect, the entire image is considered incorrect.</div></div>
<p>The only downside to this approach is...</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=its-boring>It's Boring<a href=#its-boring class=hash-link aria-label="Direct link to It's Boring" title="Direct link to It's Boring">​</a></h3>
<p>No matter how you look at it, we think that completing this task "smoothly" is just a procedural thing.</p>
<p>Since the customer sent the request, we just followed the steps and completed it. After delivering it to the customer, we threw the solution into the corner and began thinking about new solutions.</p>
<blockquote>
<p><strong>If we don't use two-stage recognition, then it must be single-stage recognition!</strong></p>
</blockquote>
<p>We had to directly recognize the MRZ block's text from the raw image.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=single-stage-recognition>Single-Stage Recognition<a href=#single-stage-recognition class=hash-link aria-label="Direct link to Single-Stage Recognition" title="Direct link to Single-Stage Recognition">​</a></h3>
<p>We then spent another three months to complete a single-stage MRZ recognition model.</p>
<p>To be honest, we spent more time than expected, and it was a bit of a loss. This problem was more difficult than we imagined. Several times we thought about giving up—after all, the two-stage solution was boring, but at least it was accurate! Why bother creating more trouble for ourselves?</p>
<p>The challenge with the single-stage model lies in that it must search the entire image for MRZ blocks of varying sizes and orientations and recognize the text within them. On top of that, the model must remain lightweight to meet mobile application requirements. These factors made model convergence difficult, and the results weren't great.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>We will introduce the technical details in the upcoming chapter: <a href=/en/docs/mrzscanner/model_arch><strong>Model Design</strong></a></div></div>
<p>In conclusion, while we were frustrated during development, we persevered and completed it. Since the time and money spent cannot be recovered, we decided to open-source this solution and share it with everyone.</p>
<p>We consider the entire single-stage solution as a "milestone." The ideal model in our minds should be more robust and accurate, and capable of handling more application scenarios.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_BuS1><p>We will continue reading more papers and work on improving the model's performance in the future.</div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=model-evaluation>Model Evaluation<a href=#model-evaluation class=hash-link aria-label="Direct link to Model Evaluation" title="Direct link to Model Evaluation">​</a></h2>
<p>This part is really difficult.</p>
<p>First, there is no standard dataset for this type of problem, so we had to synthesize our dataset and annotate it ourselves, which doesn't hold much credibility:</p>
<blockquote>
<p>Otherwise, everyone would just collect their own data and claim to have 100% accuracy! Brilliant!</p>
</blockquote>
<p>Secondly, while MIDV provides some data, most of it is based on synthetic samples. Fine-tuning models with it doesn't yield great results, let alone using it to evaluate model performance.</p>
<p>Therefore, in this project, we can't provide a complete model evaluation report like in previous projects.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=final>Final<a href=#final class=hash-link aria-label="Direct link to Final" title="Direct link to Final">​</a></h2>
<p>In this project, we completed several functions:</p>
<ol>
<li>Validated the effectiveness of the synthetic dataset.</li>
<li>Integrated MRZ localization and recognition to create a single-stage recognition model.</li>
<li>Integrated MRZ files of all formats and provided a unified parsing interface.</li>
</ol>
<p>We also borrowed some real passports and residence permits from friends and tested them on passports from different countries: under certain regulated conditions, we achieved fairly stable recognition results.</p>
<p>If you are interested in this topic, feel free to test it yourself, and we look forward to your feedback.</p>
<p>Also, feel free to leave suggestions. We are happy to communicate with you.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-01-02T09:59:53.000Z itemprop=dateModified>Jan 2, 2025</time></b> by <b>zephyr-sh</b></span></div></div><div style=margin-top:3rem> </div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/en/docs/mrzscanner/><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>MRZScanner</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/en/docs/mrzscanner/installation><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Installation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#structure-overview class="table-of-contents__link toc-highlight">Structure Overview</a><li><a href=#text-recognition class="table-of-contents__link toc-highlight">Text Recognition</a><ul><li><a href=#two-stage-recognition class="table-of-contents__link toc-highlight">Two-Stage Recognition</a><li><a href=#its-boring class="table-of-contents__link toc-highlight">It's Boring</a><li><a href=#single-stage-recognition class="table-of-contents__link toc-highlight">Single-Stage Recognition</a></ul><li><a href=#model-evaluation class="table-of-contents__link toc-highlight">Model Evaluation</a><li><a href=#final class="table-of-contents__link toc-highlight">Final</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class=footer__links><a class=footer__link-item href=/en/docs>Projects</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/papers/intro>Papers</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/blog>Blog</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/terms-of-service>TermsOfUse</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/privacy-policy>Privacy Policy</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/become-an-author>Become an author</a><span class=footer__link-separator>·</span><a class=footer__link-item href=/en/worklog>Worklog</a><span class=footer__link-separator>·</span><a href=https://buymeacoffee.com/docsaid target=_blank rel="noopener noreferrer" class=footer__link-item>Support Us<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2024 DOCSAID.</div></div></div></footer></div>