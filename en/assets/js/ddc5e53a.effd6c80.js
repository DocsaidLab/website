"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[9437],{15168:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var i=s(74848),t=s(28453);const o={sidebar_position:1},a="Introduction",r={id:"docaligner/intro",title:"Introduction",description:'The core functionality of this project is called "Document Localization."',source:"@site/i18n/en/docusaurus-plugin-content-docs/current/docaligner/intro.md",sourceDirName:"docaligner",slug:"/docaligner/intro",permalink:"/en/docs/docaligner/intro",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"zephyr-sh",lastUpdatedAt:172706143e4,sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"DocAligner",permalink:"/en/docs/category/docaligner"},next:{title:"Installation",permalink:"/en/docs/docaligner/installation"}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"Inference Cost",id:"inference-cost",level:3},{value:"Text is Usually Dense",id:"text-is-usually-dense",level:3},{value:"Functional Decomposition",id:"functional-decomposition",level:3},{value:"Model Functionality",id:"model-functionality",level:2},{value:"Definition",id:"definition",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={a:"a",admonition:"admonition",annotation:"annotation",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",math:"math",mn:"mn",mo:"mo",mrow:"mrow",ol:"ol",p:"p",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"introduction",children:"Introduction"})}),"\n",(0,i.jsxs)(n.p,{children:['The core functionality of this project is called "',(0,i.jsx)(n.strong,{children:"Document Localization"}),'."']}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/DocsaidLab/DocAligner",children:(0,i.jsx)(n.strong,{children:"DocAligner Github"})})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"title",src:s(88937).A+"",width:"1692",height:"1078"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:'This task is essentially a "precursor" to OCR tasks.'}),"\n",(0,i.jsx)(n.p,{children:"In recent years, various general-purpose OCR models have become highly sophisticated. They can find all the text in unconstrained environments and provide recognition results without any pre-processing."}),"\n",(0,i.jsx)(n.p,{children:"However, it comes with a cost\u2014an expensive one."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:'This "expensive" aspect can be viewed from several angles:'}),"\n",(0,i.jsx)(n.h3,{id:"inference-cost",children:"Inference Cost"}),"\n",(0,i.jsx)(n.p,{children:'In real-world scenarios, document recognition tasks take up a significant portion of the OCR field because people frequently deal with documents in their daily lives. In these activities, you\'re usually on the "receiving" end rather than the "active" side of the equation:'}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Don\u2019t you need to show identification when opening a bank account?"}),"\n",(0,i.jsx)(n.li,{children:"Don\u2019t you need to show your passport when traveling abroad?"}),"\n",(0,i.jsx)(n.li,{children:"Don\u2019t you need to provide proof documents when applying for a visa?"}),"\n",(0,i.jsx)(n.li,{children:"Don\u2019t you need to show contracts when purchasing insurance?"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Although these tasks are common, that doesn\u2019t mean it\u2019s a profitable business, as there are numerous providers offering similar services. Affordable, high-quality products are everywhere."}),"\n",(0,i.jsx)(n.p,{children:"If you use a general-purpose Optical Character Recognition (OCR) model (often a large language model, or LLM) to address this issue, the inference cost alone could put you in financial trouble..."}),"\n",(0,i.jsx)(n.p,{children:"and possibly worse."}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"We are excluding those who have achieved financial freedom here."})}),"\n",(0,i.jsx)(n.h3,{id:"text-is-usually-dense",children:"Text is Usually Dense"}),"\n",(0,i.jsx)(n.p,{children:"In documents, text is often densely packed. This means that if you don\u2019t want to miss any information, you need to scan the document at a very high resolution."}),"\n",(0,i.jsxs)(n.p,{children:["For example, when we typically start with object detection, we often use a resolution of ",(0,i.jsxs)(n.span,{className:"katex",children:[(0,i.jsx)(n.span,{className:"katex-mathml",children:(0,i.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(n.semantics,{children:[(0,i.jsxs)(n.mrow,{children:[(0,i.jsx)(n.mn,{children:"640"}),(0,i.jsx)(n.mo,{children:"\xd7"}),(0,i.jsx)(n.mn,{children:"640"})]}),(0,i.jsx)(n.annotation,{encoding:"application/x-tex",children:"640 \\times 640"})]})})}),(0,i.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(n.span,{className:"base",children:[(0,i.jsx)(n.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,i.jsx)(n.span,{className:"mord",children:"640"}),(0,i.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(n.span,{className:"mbin",children:"\xd7"}),(0,i.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(n.span,{className:"base",children:[(0,i.jsx)(n.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(n.span,{className:"mord",children:"640"})]})]})]}),". However, in the document localization scenario, this resolution may be increased to ",(0,i.jsxs)(n.span,{className:"katex",children:[(0,i.jsx)(n.span,{className:"katex-mathml",children:(0,i.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(n.semantics,{children:[(0,i.jsxs)(n.mrow,{children:[(0,i.jsx)(n.mn,{children:"896"}),(0,i.jsx)(n.mo,{children:"\xd7"}),(0,i.jsx)(n.mn,{children:"896"})]}),(0,i.jsx)(n.annotation,{encoding:"application/x-tex",children:"896 \\times 896"})]})})}),(0,i.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(n.span,{className:"base",children:[(0,i.jsx)(n.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,i.jsx)(n.span,{className:"mord",children:"896"}),(0,i.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(n.span,{className:"mbin",children:"\xd7"}),(0,i.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(n.span,{className:"base",children:[(0,i.jsx)(n.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(n.span,{className:"mord",children:"896"})]})]})]}),", ",(0,i.jsxs)(n.span,{className:"katex",children:[(0,i.jsx)(n.span,{className:"katex-mathml",children:(0,i.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(n.semantics,{children:[(0,i.jsxs)(n.mrow,{children:[(0,i.jsx)(n.mn,{children:"1536"}),(0,i.jsx)(n.mo,{children:"\xd7"}),(0,i.jsx)(n.mn,{children:"1536"})]}),(0,i.jsx)(n.annotation,{encoding:"application/x-tex",children:"1536 \\times 1536"})]})})}),(0,i.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(n.span,{className:"base",children:[(0,i.jsx)(n.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,i.jsx)(n.span,{className:"mord",children:"1536"}),(0,i.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(n.span,{className:"mbin",children:"\xd7"}),(0,i.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(n.span,{className:"base",children:[(0,i.jsx)(n.span,{className:"strut",style:{height:"0.6444em"}}),(0,i.jsx)(n.span,{className:"mord",children:"1536"})]})]})]}),", or even higher."]}),"\n",(0,i.jsx)(n.p,{children:"If we don\u2019t break down the model's functionality and instead push an LLM directly in a high-resolution environment, aside from the inference cost, do you know that buying a single V100 GPU for training now costs between $30,000 ~ $50,000 USD? LLMs are outrageously expensive!"}),"\n",(0,i.jsx)(n.h3,{id:"functional-decomposition",children:"Functional Decomposition"}),"\n",(0,i.jsx)(n.p,{children:"Therefore, we need a more economical approach, and splitting model functionalities becomes a necessary choice."}),"\n",(0,i.jsx)(n.p,{children:"This is also the purpose of our project:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"To precisely locate the document areas we are interested in within chaotic environments and flatten them for subsequent text recognition or other processing."})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"model-functionality",children:"Model Functionality"}),"\n",(0,i.jsx)(n.p,{children:"This model is specifically designed to recognize documents in images, precisely locating the four corners of the document. This allows the user to flatten the document for subsequent text recognition or other processing."}),"\n",(0,i.jsx)(n.p,{children:'We offer two different models here: the "Heatmap Model" and the "Point Regression Model," each with its own strengths and applicable scenarios. These will be detailed in subsequent sections.'}),"\n",(0,i.jsx)(n.p,{children:"On the technical side, we chose PyTorch as the training framework and converted the model to ONNX format for inference to facilitate deployment on different platforms. Additionally, we use ONNXRuntime for model inference, allowing efficient execution on both CPUs and GPUs."}),"\n",(0,i.jsx)(n.p,{children:"Our model achieves near state-of-the-art (SoTA) performance and demonstrates real-time inference speeds in practical applications, making it suitable for most use cases."}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:'In fields outside deep learning, "Localization" usually refers to translating a document into different languages.'}),(0,i.jsx)(n.p,{children:"In the context of deep learning, however, it refers to the process of locating documents within images and flattening them."})]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Flattening"}),": The process of projecting a skewed document in 3D space onto a 2D plane (e.g., through perspective transformation), so that it appears flat on the plane."]})}),"\n",(0,i.jsx)(n.h2,{id:"definition",children:"Definition"}),"\n",(0,i.jsx)(n.p,{children:"We follow the definitions established by pioneers in this field and use the following convention for document corner points:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"The starting point is the top-left corner"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"The ending point is the bottom-left corner"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Four corner points are used to represent the document\u2019s position, listed in the order: 'Top-left > Top-right > Bottom-right > Bottom-left.'"}),"\n",(0,i.jsxs)(n.admonition,{type:"danger",children:[(0,i.jsx)(n.p,{children:"Although we use different colors for different corner points in the visualized results, these colors do not indicate the document's orientation."}),(0,i.jsxs)(n.p,{children:["In other words: ",(0,i.jsx)(n.strong,{children:"No matter how the text is oriented, the model will always define the top-left corner as the starting point and the bottom-left corner as the endpoint."})]})]}),"\n",(0,i.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsx)(n.p,{children:"Initially, we aimed to develop a zero-shot model capable of running efficiently on mobile devices."}),"\n",(0,i.jsx)(n.p,{children:"In other words, a model that could generalize to various documents worldwide, without needing any annotations or fine-tuning, and be ready for use immediately."}),"\n",(0,i.jsx)(n.p,{children:"However, we later realized that the limitations of model size made this goal somewhat distant."}),"\n",(0,i.jsx)(n.p,{children:'It was a dilemma: if we increased the model size, it would violate our original intent; if we didn\u2019t increase it, we\u2019d have to change the architecture, which would affect the model\'s ability to generalize. After months of work, we ultimately compromised on the zero-shot objective, prioritizing "accuracy" as our top goal.'}),"\n",(0,i.jsx)(n.p,{children:"If you're interested in this topic, feel free to test the model yourself. We welcome your feedback."}),"\n",(0,i.jsx)(n.p,{children:"We are also open to suggestions and would be happy to engage in discussions with you."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},88937:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/title-53c7f0e04191c69b2dea9f378ad2d0fe.jpg"},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>r});var i=s(96540);const t={},o=i.createContext(t);function a(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);