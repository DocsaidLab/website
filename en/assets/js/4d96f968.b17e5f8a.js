"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[215],{51520:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});var i=s(74848),t=s(28453);const a={sidebar_position:5},l="Backtesting System Analysis",r={id:"autotraderx/masterlink/backtesting_analysis",title:"Backtesting System Analysis",description:"PythonTechAnalysis",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/autotraderx/masterlink/backtesting_analysis.md",sourceDirName:"autotraderx/masterlink",slug:"/autotraderx/masterlink/backtesting_analysis",permalink:"/en/docs/autotraderx/masterlink/backtesting_analysis",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"zephyr-sh",lastUpdatedAt:1719059132e3,sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Order System Analysis",permalink:"/en/docs/autotraderx/masterlink/trader_analysis"},next:{title:"Quotation System",permalink:"/en/docs/autotraderx/masterlink/quotation"}},c={},d=[{value:"PythonTechAnalysis",id:"pythontechanalysis",level:2},{value:"Official Technical Documentation",id:"official-technical-documentation",level:2},{value:"Core Modules",id:"core-modules",level:2},{value:"TechAnalysis",id:"techanalysis",level:3},{value:"Model",id:"model",level:3}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"backtesting-system-analysis",children:"Backtesting System Analysis"})}),"\n",(0,i.jsx)(n.h2,{id:"pythontechanalysis",children:"PythonTechAnalysis"}),"\n",(0,i.jsx)(n.p,{children:"Once you have downloaded the MasterLink Python module, use the following command to install the backtesting system:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-powershell",children:"pip install .\\MasterLink_PythonAPI\\Python_tech_analysis\\tech_analysis_api_v2-0.0.5-py3-none-win_amd64.whl\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["The version of this package we are using is ",(0,i.jsx)(n.code,{children:"0.0.5"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"official-technical-documentation",children:"Official Technical Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://mlapi.masterlink.com.tw/web_api/service/document/python-analysis",children:(0,i.jsx)(n.strong,{children:"MasterLink - Technical Analysis"})})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/DocsaidLab/AutoTraderX/blob/main/MasterLink_PythonAPI/Python_tech_analysis/example.py",children:(0,i.jsx)(n.strong,{children:"Official Code Example: example.py"})})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"core-modules",children:"Core Modules"}),"\n",(0,i.jsxs)(n.p,{children:["Similarly, after extracting the MasterLink Python module, we directly analyze its core modules. This part of the code surprisingly remains quite straightforward because all functionalities are encapsulated within ",(0,i.jsx)(n.code,{children:".dll"})," files, and the Python module merely serves as a simple interface."]}),"\n",(0,i.jsx)(n.h3,{id:"techanalysis",children:"TechAnalysis"}),"\n",(0,i.jsxs)(n.p,{children:["This segment of the code begins by importing the ",(0,i.jsx)(n.code,{children:"TechAnalysisAPI"})," object encapsulated within the ",(0,i.jsx)(n.code,{children:".dll"})," file."]}),"\n",(0,i.jsxs)(n.p,{children:["Following that, it defines several events that need to be hooked into the ",(0,i.jsx)(n.code,{children:"TechAnalysisAPI"}),". We won't modify or invoke these functions directly, so they are left as is."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"Login"})})}),"\n",(0,i.jsx)(n.p,{children:"This function must be called first to authenticate with the MasterLink API."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"GetHisBS_Stock"})})}),"\n",(0,i.jsx)(n.p,{children:'This function requires specifying a stock and a date, returning the detailed transaction details ("every Tick") for that stock on the specified date.'}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"SubTA"})," and ",(0,i.jsx)(n.code,{children:"UnSubTA"})]})}),"\n",(0,i.jsx)(n.p,{children:"These functions allow users to subscribe or unsubscribe from specific technical indicators."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Technical Indicators"})}),"\n",(0,i.jsx)(n.p,{children:"Through TechAnalysisAPI, this module supports various technical indicators, including:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"SMA (Simple Moving Average)"}),"\n",(0,i.jsx)(n.li,{children:"EMA (Exponential Moving Average)"}),"\n",(0,i.jsx)(n.li,{children:"RSI (Relative Strength Index)"}),"\n",(0,i.jsx)(n.li,{children:"MACD (Moving Average Convergence Divergence)"}),"\n",(0,i.jsx)(n.li,{children:"KD (Stochastic Oscillator)"}),"\n",(0,i.jsx)(n.li,{children:"CDP (Contrary Decision Point)"}),"\n",(0,i.jsx)(n.li,{children:"BBands (Bollinger Bands)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"model",children:"Model"}),"\n",(0,i.jsxs)(n.p,{children:["As mentioned earlier, within this module, there are only two ",(0,i.jsx)(n.code,{children:".py"})," files: ",(0,i.jsx)(n.code,{children:"TechAnalysis"})," and ",(0,i.jsx)(n.code,{children:"Model"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"These files define a series of data structures and classes primarily used for stock market technical analysis."}),"\n",(0,i.jsx)(n.p,{children:"Below is an analysis and explanation of each part of the code:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Enum Types"})}),"\n",(0,i.jsx)(n.p,{children:"The code defines several enum types used to represent different types of technical indicators, time units for candles, and price rise/fall status:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"eTA_Type"}),": Represents various technical analysis indicators such as SMA, Weighted Moving Average (WMA), EMA, etc."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"eNK_Kind"}),": Represents the time range of K-lines, such as daily, 1-minute, etc."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"eRaiseFall"}),": Represents the rise or fall of prices."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Data Structures (Data Classes)"})}),"\n",(0,i.jsx)(n.p,{children:"These data classes provide structures for storing stock trading data:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TKBarRec"}),": Stores data for K-line charts, including date, product, time series, price, and volume."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TBSRec"}),": Stores buy and sell records for specific stocks or commodities."]}),"\n",(0,i.jsxs)(n.li,{children:["Various technical analysis indicator classes (",(0,i.jsx)(n.code,{children:"ta_sma"}),", ",(0,i.jsx)(n.code,{children:"ta_ema"}),", ",(0,i.jsx)(n.code,{children:"ta_wma"}),", etc.), each containing corresponding K-line data and calculated indicator values."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Technical Analysis Indicator Classes"})}),"\n",(0,i.jsx)(n.p,{children:"These classes represent different technical analysis indicators and combine indicator values with corresponding K-line data. For example:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Classes like ",(0,i.jsx)(n.code,{children:"ta_sma"}),", ",(0,i.jsx)(n.code,{children:"ta_ema"}),", and ",(0,i.jsx)(n.code,{children:"ta_wma"})," represent Simple Moving Average, Exponential Moving Average, and Weighted Moving Average, respectively."]}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"ta_sar"})," class includes additional information such as stop-loss points and price rise/fall status."]}),"\n",(0,i.jsxs)(n.li,{children:["Classes like ",(0,i.jsx)(n.code,{children:"ta_rsi"})," and ",(0,i.jsx)(n.code,{children:"ta_macd"})," provide data for Relative Strength Index and Moving Average Convergence Divergence, respectively."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ta_kd"}),", ",(0,i.jsx)(n.code,{children:"ta_cdp"}),", and ",(0,i.jsx)(n.code,{children:"ta_bbands"})," classes represent Stochastic Oscillator, Contrary Decision Point, and Bollinger Bands indicators, respectively."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"k_setting"})," Class"]})}),"\n",(0,i.jsx)(n.p,{children:"This class is used to configure technical analysis settings, including product ID, time range, types of technical analysis indicators, and start date."}),"\n",(0,i.jsx)(n.p,{children:"It serves as the foundation for setting up and configuring calls to the technical analysis API."}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>r});var i=s(96540);const t={},a=i.createContext(t);function l(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);