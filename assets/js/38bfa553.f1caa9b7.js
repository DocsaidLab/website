"use strict";(self.webpackChunkdocsaid_website=self.webpackChunkdocsaid_website||[]).push([["84113"],{51569:function(e,n,l){l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var i=l(60118),s=l(85893),t=l(50065);let r={slug:"fixed-pyenv-install-error",title:"\u4FEE\u5FA9 pyenv \u5EFA\u7F6E\u932F\u8AA4",authors:"Z. Yuan",image:"/img/2024/1125.webp",tags:["pyenv","python"],description:"\u6392\u9664\u5EFA\u7F6E\u932F\u8AA4"},a=void 0,c={authorsImageUrls:[void 0]},d=[{value:"\u554F\u984C\u63CF\u8FF0",id:"\u554F\u984C\u63CF\u8FF0",level:2},{value:"\u89E3\u6C7A\u554F\u984C",id:"\u89E3\u6C7A\u554F\u984C",level:2},{value:"1. \u5B89\u88DD\u76F8\u4F9D\u5957\u4EF6",id:"1-\u5B89\u88DD\u76F8\u4F9D\u5957\u4EF6",level:3},{value:"2. \u6AA2\u67E5 gcc \u7248\u672C",id:"2-\u6AA2\u67E5-gcc-\u7248\u672C",level:3},{value:"3. \u6AA2\u67E5\u4E00\u4E0B log \u6A94",id:"3-\u6AA2\u67E5\u4E00\u4E0B-log-\u6A94",level:3},{value:"4. \u91CD\u88DD binutils",id:"4-\u91CD\u88DD-binutils",level:3}];function o(e){let n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"\u5B89\u88DD pyenv \u672C\u8EAB\u662F\u6C92\u554F\u984C\u7684\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u4F46\u662F\u5728\u5EFA\u7F6E python \u7248\u672C\u6642\u51FA\u73FE\u932F\u8AA4\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u554F\u984C\u63CF\u8FF0",children:"\u554F\u984C\u63CF\u8FF0"}),"\n",(0,s.jsx)(n.p,{children:"\u4F7F\u7528\u6307\u4EE4\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"pyenv install 3.10.15\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u6C92\u591A\u4E45\uFF0C\u7CFB\u7D71\u5674\u51FA\u4E00\u4E32\u932F\u8AA4\u8A0A\u606F\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"Downloading Python-3.10.15.tar.xz...\n-> https://www.python.org/ftp/python/3.10.15/Python-3.10.15.tar.xz\nInstalling Python-3.10.15...\n\nBUILD FAILED (Ubuntu 22.04 using python-build 20180424)\n\nInspect or clean up the working tree at /tmp/python-build.20241125102533.16978\nResults logged to /tmp/python-build.20241125102533.16978.log\n\nLast 10 log lines:\n        ./signal/../sysdeps/unix/sysv/linux/x86_64/libc_sigaction.c:0\n0x7be2d6829d8f __libc_start_call_main\n        ../sysdeps/nptl/libc_start_call_main.h:58\n0x7be2d6829e3f __libc_start_main_impl\n        ../csu/libc-start.c:392\nPlease submit a full bug report,\nwith preprocessed source if appropriate.\nPlease include the complete backtrace with any bug report.\nSee <file:///usr/share/doc/gcc-11/README.Bugs> for instructions.\nmake: *** [Makefile:1856: Python/getargs.o] Error 1\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u55EF\uFF1F\u679C\u7136\u662F\u958B\u767C\u8005\u7684\u65E5\u5E38\u554A\uFF01"}),"\n",(0,s.jsx)(n.h2,{id:"\u89E3\u6C7A\u554F\u984C",children:"\u89E3\u6C7A\u554F\u984C"}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u88E1\u5617\u8A66\u5E7E\u500B\u89E3\u6C7A\u65B9\u6CD5\uFF1A"}),"\n",(0,s.jsx)(n.h3,{id:"1-\u5B89\u88DD\u76F8\u4F9D\u5957\u4EF6",children:"1. \u5B89\u88DD\u76F8\u4F9D\u5957\u4EF6"}),"\n",(0,s.jsx)(n.p,{children:"\u5148\u66F4\u65B0\u4E00\u4E0B\u7CFB\u7D71\u5957\u4EF6\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt update && sudo apt upgrade -y\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u5F8C\u78BA\u8A8D\u4E00\u4E0B\u76F8\u95DC\u5957\u4EF6\u662F\u5426\u5B89\u88DD\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt install -y build-essential libssl-dev zlib1g-dev libbz2-dev \\\n    libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev \\\n    libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7CFB\u7D71\u544A\u8A34\u6211\u5011\uFF0C\u4E0A\u9762\u9019\u4E9B\u5957\u4EF6\u90FD\u5DF2\u7D93\u662F\u6700\u65B0\u7684\u4E86\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6240\u4EE5\uFF0C\u4E0D\u662F\u9019\u88E1\u7684\u554F\u984C\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"2-\u6AA2\u67E5-gcc-\u7248\u672C",children:"2. \u6AA2\u67E5 gcc \u7248\u672C"}),"\n",(0,s.jsx)(n.p,{children:"\u66F4\u65B0\u4E00\u4E0B gcc \u7684\u7248\u672C\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt install --reinstall gcc\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u5F8C\u518D\u8A66\u4E00\u6B21\uFF0C\u5F97\u5230\u540C\u6A23\u7684\u932F\u8AA4\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u770B\u4F86\u4E5F\u4E0D\u662F\u9019\u500B\u554F\u984C\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"3-\u6AA2\u67E5\u4E00\u4E0B-log-\u6A94",children:"3. \u6AA2\u67E5\u4E00\u4E0B log \u6A94"}),"\n",(0,s.jsx)(n.p,{children:"\u5F9E\u525B\u624D\u7684\u932F\u8AA4\u8A0A\u606F\u4E2D\u627E\u5230 log \u6A94\u7684\u4F4D\u7F6E\uFF0C\u7136\u5F8C\u9032\u53BB\u770B\u4E00\u4E0B\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"less /tmp/python-build.20241125102533.16978.log\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u88E1\u9762\u6709\u4E00\u5927\u5806\u7684\u8A0A\u606F\uFF0C\u6211\u5011\u76F4\u63A5\u67E5\u770B\u6700\u5F8C\u4E00\u6BB5\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"gcc -c -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall    -std=c99 -Wextra -Wno-unused-result -Wno-unused-parameter -Wno-missing-field-initializers -Werror=implicit-function-declaration -fvisibility=hidden  -I./Include/internal  -I. -I./Include -I/home/user/.pyenv/versions/3.10.15/include -I/home/user/.pyenv/versions/3.10.15/include -fPIC -DPy_BUILD_CORE -o Programs/_testembed.o ./Programs/_testembed.c\nsed -e \"s,@EXENAME@,/home/user/.pyenv/versions/3.10.15/bin/python3.10,\" < ./Misc/python-config.in >python-config.py\nLC_ALL=C sed -e 's,\\$(\\([A-Za-z0-9_]*\\)),\\$\\{\\1\\},g' < Misc/python-config.sh >python-config\n/tmp/ccTVJtRi.s: Assembler messages:\n/tmp/ccTVJtRi.s: Internal error in emit_inc_line_addr at ../../gas/dwarf2dbg.c:1643.\nPlease report this bug.\nmake: *** [Makefile:1856: Objects/typeobject.o] Error 1\nmake: *** Waiting for unfinished jobs....\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u767C\u73FE\u932F\u8AA4\u4E86\uFF01\u9019\u88E1\u5BEB\u7684\u662F\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:'"Internal error in emit_inc_line_addr at ../../gas/dwarf2dbg.c"'})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u6307\u7684\u662F binutils \u7684\u7D44\u8B6F\u5668\u7D44\u4EF6\u51FA\u73FE\u554F\u984C\uFF0C\u901A\u5E38\u8868\u793A\u5957\u4EF6\u4E2D\u5B58\u5728\u932F\u8AA4\u6216\u4E0D\u76F8\u5BB9\u6027\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"4-\u91CD\u88DD-binutils",children:"4. \u91CD\u88DD binutils"}),"\n",(0,s.jsx)(n.p,{children:"\u5F88\u597D\uFF0C\u77E5\u9053\u932F\u8AA4\u4E86\uFF0C\u90A3\u5C31\u66F4\u65B0\u4E00\u4E0B binutils\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt update\nsudo apt install --reinstall binutils\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u66F4\u65B0\u5F8C\uFF0C\u518D\u6B21\u57F7\u884C\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"pyenv install 3.10.15\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u6B21\u5C31\u6210\u529F\u4E86\uFF0C\u7D50\u675F\u9019\u500B\u554F\u984C\u3002"})]})}function p(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},50065:function(e,n,l){l.d(n,{Z:()=>a,a:()=>r});var i=l(67294);let s={},t=i.createContext(s);function r(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(t.Provider,{value:n},e.children)}},60118:function(e){e.exports=JSON.parse('{"permalink":"/blog/fixed-pyenv-install-error","source":"@site/blog/2024/11-25-fixed-pyenv-install-error/index.md","title":"\u4FEE\u5FA9 pyenv \u5EFA\u7F6E\u932F\u8AA4","description":"\u6392\u9664\u5EFA\u7F6E\u932F\u8AA4","date":"2024-11-25T00:00:00.000Z","tags":[{"inline":true,"label":"pyenv","permalink":"/blog/tags/pyenv"},{"inline":true,"label":"python","permalink":"/blog/tags/python"}],"readingTime":2.4,"hasTruncateMarker":true,"authors":[{"name":"Z. Yuan","title":"Dosaid maintainer, Full-Stack AI Engineer","url":"https://github.com/zephyr-sh","socials":{"github":"https://github.com/zephyr-sh","linkedin":"https://www.linkedin.com/in/ze-yuan-sh7/"},"imageURL":"https://github.com/zephyr-sh.png","key":"Z. Yuan","page":null}],"frontMatter":{"slug":"fixed-pyenv-install-error","title":"\u4FEE\u5FA9 pyenv \u5EFA\u7F6E\u932F\u8AA4","authors":"Z. Yuan","image":"/img/2024/1125.webp","tags":["pyenv","python"],"description":"\u6392\u9664\u5EFA\u7F6E\u932F\u8AA4"},"unlisted":false,"prevItem":{"title":"\u6DFA\u8AC7\u5085\u7ACB\u8449\u8F49\u63DB","permalink":"/blog/fourier-transform"},"nextItem":{"title":"\u66F4\u65B0 Docusaurus \u5230 3.6.0","permalink":"/blog/update-docusaurus-to-3-6-0"}}')}}]);