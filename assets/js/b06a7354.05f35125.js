"use strict";(self.webpackChunkdocsaid_website=self.webpackChunkdocsaid_website||[]).push([["87576"],{25992:function(n,e,r){r.r(e),r.d(e,{frontMatter:()=>t,toc:()=>a,default:()=>h,metadata:()=>s,assets:()=>l,contentTitle:()=>c});var s=JSON.parse('{"id":"autotraderx/masterlink/backtesting","title":"\u56DE\u6E2C\u7CFB\u7D71","description":"\u5206\u6790\u5B8C\u5143\u5BCC\u8B49\u5238\u7684\u56DE\u6E2C\u7CFB\u7D71 Python API \u4E4B\u5F8C\uFF0C\u6211\u5011\u5C31\u53EF\u4EE5\u57FA\u65BC\u81EA\u5DF1\u7684\u9700\u6C42\uFF0C\u958B\u767C\u4E00\u500B\u56DE\u6E2C\u7CFB\u7D71\u3002","source":"@site/docs/autotraderx/masterlink/backtesting.md","sourceDirName":"autotraderx/masterlink","slug":"/autotraderx/masterlink/backtesting","permalink":"/docs/autotraderx/masterlink/backtesting","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"zephyr-sh","lastUpdatedAt":1718969308000,"sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"\u4E0B\u55AE\u7CFB\u7D71","permalink":"/docs/autotraderx/masterlink/trader"},"next":{"title":"Capybara","permalink":"/docs/capybara/"}}'),i=r(74848),d=r(84429);let t={sidebar_position:8},c="\u56DE\u6E2C\u7CFB\u7D71",l={},a=[{value:"\u767B\u5165\u5E33\u865F",id:"\u767B\u5165\u5E33\u865F",level:2},{value:"\u8A02\u95B1\u6307\u6A19",id:"\u8A02\u95B1\u6307\u6A19",level:2},{value:"\u6B77\u53F2\u6210\u4EA4",id:"\u6B77\u53F2\u6210\u4EA4",level:2},{value:"\u5F8C\u7E8C\u5DE5\u4F5C",id:"\u5F8C\u7E8C\u5DE5\u4F5C",level:2}];function o(n){let e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,d.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"\u56DE\u6E2C\u7CFB\u7D71",children:"\u56DE\u6E2C\u7CFB\u7D71"})}),"\n",(0,i.jsx)(e.p,{children:"\u5206\u6790\u5B8C\u5143\u5BCC\u8B49\u5238\u7684\u56DE\u6E2C\u7CFB\u7D71 Python API \u4E4B\u5F8C\uFF0C\u6211\u5011\u5C31\u53EF\u4EE5\u57FA\u65BC\u81EA\u5DF1\u7684\u9700\u6C42\uFF0C\u958B\u767C\u4E00\u500B\u56DE\u6E2C\u7CFB\u7D71\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"\u767B\u5165\u5E33\u865F",children:"\u767B\u5165\u5E33\u865F"}),"\n",(0,i.jsx)(e.p,{children:"\u4F60\u53EF\u4EE5\u76F4\u63A5\u628A\u5E33\u865F\u5BC6\u78BC\u5BEB\u5728\u985E\u5225\u7684\u8F38\u5165\u4E2D\uFF0C\u4E5F\u53EF\u4EE5\u53C3\u8003\u6211\u5011\u7684\u5BEB\u6CD5\uFF1A\u4F7F\u7528\u4E00\u500B yaml \u6A94\u6848\u4F86\u5132\u5B58\u5E33\u865F\u8CC7\u8A0A\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u53C3\u6578\u6A94\u6848\u4E2D\uFF0C\u5FC5\u9808\u6709\u5E33\u865F\u5BC6\u78BC\u548C\u5E33\u865F\u865F\u78BC\uFF0C\u9019\u6A23\u624D\u80FD\u9806\u5229\u767B\u5165\u5143\u5BCC\u8B49\u5238\u7684\u5E33\u865F\u3002"}),"\n",(0,i.jsxs)(e.p,{children:["\u63A5\u8457\u5F9E ",(0,i.jsx)(e.code,{children:"autotraderx"})," \u4E2D import ",(0,i.jsx)(e.code,{children:"BackTesting"})," \u985E\u5225\uFF1A"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'from autotraderx import load_yaml\nfrom autotraderx.masterlink import BackTesting\n\n# Load account infos\ncfg = load_yaml(DIR / "account.yaml")\n\n# Login account\nhandler = BackTesting(\n    user=cfg["user"],\n    password=cfg["password"],\n)\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u8A02\u95B1\u6307\u6A19",children:"\u8A02\u95B1\u6307\u6A19"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u5011\u5728\u6E2C\u8A66\u5B98\u65B9\u63D0\u4F9B\u7684\u7BC4\u4F8B\u7A0B\u5F0F\u78BC\u6642\uFF0C\u767C\u73FE\u5728\u8A02\u95B1\u6307\u6A19\u7684\u6642\u5019\uFF0C\u6709\u4E00\u500B\u300C\u975E\u5E38\u4E45\u300D\u7684\u4E0D\u53CD\u61C9\u671F\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u7531\u5B98\u65B9\u63D0\u4F9B\u7684\u7BC4\u4F8B\u7A0B\u5F0F\u78BC\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'ta = TechAnalysis(...)\n\nopt = input("1: \u6307\u6A19\\n2: \u6B77\u53F2\u6210\u4EA4\\n> ")\nif opt == "1":\n    k_config = option()\n    ta.SubTA(k_config)\n    input("running...\\n")\n    ta.UnSubTA(k_config)\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u57F7\u884C\u4E4B\u5F8C\uFF0C\u6211\u5011\u5361\u5728 ",(0,i.jsx)(e.code,{children:"running..."})," \u7684\u756B\u9762\uFF0C\u5927\u7D04\u4E94\u5206\u9418\uFF0C\u6700\u5F8C\u662F\u56E0\u70BA\u6211\u5011\u5931\u53BB\u8010\u5FC3\u800C\u5F37\u5236\u7D50\u675F\u7A0B\u5F0F\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u6B64\u5916\uFF0C\u6280\u8853\u6307\u6A19\u7684\u90E8\u5206\u5927\u591A\u90FD\u662F\u7531\u50F9\u91CF\u8CC7\u8A0A\u8A08\u7B97\u800C\u5F97\uFF0C\u6240\u4EE5\u6211\u5011\u81EA\u5DF1\u53D6\u56DE\u50F9\u91CF\u8CC7\u6599\uFF0C\u8A08\u7B97\u6307\u6A19\u4EC0\u9EBC\u7684\uFF0C\u81EA\u5DF1\u7B97\u6BD4\u8F03\u5FEB\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u6240\u4EE5\u6211\u5011\u4E0D\u5BE6\u4F5C\u9019\u4E00\u90E8\u5206\u7684\u529F\u80FD\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"\u6B77\u53F2\u6210\u4EA4",children:"\u6B77\u53F2\u6210\u4EA4"}),"\n",(0,i.jsxs)(e.p,{children:["\u767B\u5165\u5E33\u865F\u4E4B\u5F8C\uFF0C\u5C31\u53EF\u4EE5\u4F7F\u7528\u6211\u5011\u5305\u88DD\u7684 ",(0,i.jsx)(e.code,{children:"get_data"})," \u51FD\u6578\uFF0C\u4F86\u53D6\u5F97\u8CC7\u6599\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'data = handler.get_data(\n    prod_id="2330",\n    date="20240102",\n)\n'})}),"\n",(0,i.jsxs)(e.p,{children:["\u5176\u4E2D\uFF0C",(0,i.jsx)(e.code,{children:"prod_id"})," \u662F\u80A1\u7968\u4EE3\u78BC\uFF0C",(0,i.jsx)(e.code,{children:"date"})," \u662F\u65E5\u671F\uFF0C\u683C\u5F0F\u70BA ",(0,i.jsx)(e.code,{children:"YYYYMMDD"}),"\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u4EE5\u4E0A\u7684\u7A0B\u5F0F\u57F7\u884C\u4E4B\u5F8C\uFF0C\u6703\u56DE\u50B3\u4E00\u500B List[Dict] \u7D50\u69CB\uFF1A"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'[\n    ...\u4EE5\u4E0A\u7701\u7565...\n    {\n        "\u6210\u4EA4\u50F9\u683C": 590.0,\n        "\u6210\u4EA4\u6642\u9593": 132459.132661,\n        "\u6210\u4EA4\u91CF": 1,\n        "\u80A1\u7968\u4EE3\u865F": "2330",\n        "\u8A66\u6413": False,\n        "\u8CB7\u8CE3": 2\n    },\n    {\n        "\u6210\u4EA4\u50F9\u683C": 593.0,\n        "\u6210\u4EA4\u6642\u9593": 133000.0,\n        "\u6210\u4EA4\u91CF": 3704,\n        "\u80A1\u7968\u4EE3\u865F": "2330",\n        "\u8A66\u6413": False,\n        "\u8CB7\u8CE3": 2\n    }\n]\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u7D93\u904E\u6211\u5011\u7684\u89C0\u5BDF\uFF0C\u767C\u73FE\u5143\u5BCC\u8B49\u5238\u63D0\u4F9B\u7684 API \u4E2D\uFF0C\u6709\u5E7E\u500B\u7279\u6027\uFF1A"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.code,{children:"\u8A66\u6413"})})," \u9019\u500B\u6B04\u4F4D\uFF0C\u4EE3\u8868\u9019\u7B46\u6210\u4EA4\u662F\u5426\u70BA\u8A66\u6413\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.code,{children:"\u8CB7\u8CE3"})})," \u9019\u500B\u6B04\u4F4D\uFF0C\u4EE3\u8868\u9019\u7B46\u6210\u4EA4\u662F\u6210\u4EA4\u5728\u5167\u76E4\u9084\u662F\u5916\u76E4\uFF0C",(0,i.jsx)(e.code,{children:"0"})," \u4EE3\u8868\u5E73\u76E4\uFF0C",(0,i.jsx)(e.code,{children:"1"})," \u4EE3\u8868\u5167\u76E4\uFF0C",(0,i.jsx)(e.code,{children:"2"})," \u4EE3\u8868\u5916\u76E4\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.code,{children:"\u6210\u4EA4\u6642\u9593"})})," \u9019\u500B\u6B04\u4F4D\u7684\u8B80\u6CD5\u662F ",(0,i.jsx)(e.code,{children:"HHMMSS.ffffff"}),"\uFF0C\u5176\u4E2D ",(0,i.jsx)(e.code,{children:"HH"})," \u662F\u5C0F\u6642\uFF0C",(0,i.jsx)(e.code,{children:"MM"})," \u662F\u5206\u9418\uFF0C",(0,i.jsx)(e.code,{children:"SS"})," \u662F\u79D2\uFF0C",(0,i.jsx)(e.code,{children:"ffffff"})," \u662F\u5FAE\u79D2\u3002"]}),"\n",(0,i.jsx)(e.li,{children:"\u6211\u5011\u8A66\u8457\u67E5\u8A62\u904E\u53BB\u7684\u8CC7\u6599\uFF0C\u767C\u73FE\u5728 2022 \u5E74 4 \u6708\u4E2D\u65EC\u4EE5\u5F8C\uFF0C\u624D\u6709\u8CC7\u6599\u53EF\u4EE5\u7528\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u4E0D\u904E\u5169\u5E74\u591A\u7684\u8CC7\u6599\uFF0C\u5C31\u6211\u5011\u9019\u7A2E\u5C0F\u898F\u6A21\u7684\u4F7F\u7528\u8005\u4F86\u8AAA\uFF0C\u61C9\u8A72\u662F\u5920\u7528\u4E86\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"\u5F8C\u7E8C\u5DE5\u4F5C",children:"\u5F8C\u7E8C\u5DE5\u4F5C"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u5011\u9810\u8A08\u5148\u628A\u53EF\u4EE5\u67E5\u5230\u7684\u80A1\u7968\u6210\u4EA4\u8CC7\u8A0A\u8CC7\u6599\u53D6\u56DE\u4F86\uFF0C\u4E26\u5728\u81EA\u5DF1\u5EFA\u7F6E\u4E00\u500B\u8CC7\u6599\u5EAB\u7CFB\u7D71\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u5F8C\u7E8C\u8981\u8A08\u7B97\u6280\u8853\u6307\u6A19\u6216\u662F\u56DE\u6E2C\u4EA4\u6613\u7B56\u7565\u7684\u6642\u5019\uFF0C\u5C31\u53EF\u4EE5\u76F4\u63A5\u5F9E\u6211\u5011\u7684\u8CC7\u6599\u5EAB\u4E2D\u53D6\u5F97\u8CC7\u6599\uFF0C\u53C8\u5FEB\u53C8\u65B9\u4FBF\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u81F3\u65BC\u66F4\u4E45\u9060\u7684\u8CC7\u6599\uFF0C\u7B49\u6211\u5011\u6709\u66F4\u591A\u7684\u9700\u6C42\u518D\u8AAA\u5427\u3002"})]})}function h(n={}){let{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},84429:function(n,e,r){r.d(e,{R:()=>t,x:()=>c});var s=r(96540);let i={},d=s.createContext(i);function t(n){let e=s.useContext(d);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),s.createElement(d.Provider,{value:e},n.children)}}}]);