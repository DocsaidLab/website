"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([["96524"],{35963:function(n,e,i){i.r(e),i.d(e,{metadata:()=>t,contentTitle:()=>d,default:()=>u,assets:()=>c,toc:()=>a,frontMatter:()=>r});var t=JSON.parse('{"id":"docsaidkit/funcs/onnxengine/onnxengine","title":"ONNXEngine","description":"ONNXEngine(modelpath int = 0, backend Dict[str, Any] = {}, provideroption: Dict[str, Any] = {})","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/docsaidkit/funcs/onnxengine/onnxengine.md","sourceDirName":"docsaidkit/funcs/onnxengine","slug":"/docsaidkit/funcs/onnxengine/","permalink":"/ja/docs/docsaidkit/funcs/onnxengine/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"zephyr-sh","lastUpdatedAt":1732590993000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"ONNXEngine","permalink":"/ja/docs/category/onnxengine"},"next":{"title":"get_onnx_metadata","permalink":"/ja/docs/docsaidkit/funcs/onnxengine/get_onnx_metadata"}}'),o=i("85893"),s=i("50065");let r={sidebar_position:1},d="ONNXEngine",c={},a=[];function l(n){let e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"onnxengine",children:"ONNXEngine"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsxs)(e.a,{href:"https://github.com/DocsaidLab/DocsaidKit/blob/main/docsaidkit/onnxengine/engine.py",children:["ONNXEngine(model_path: Union[str, Path], gpu_id: int = 0, backend: Union[str, int, Backend] = Backend.cpu, session_option: Dict[str, Any] = ",", provider_option: Dict[str, Any] = ",")"]})}),"\n"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"\u8AAC\u660E"}),"\uFF1AONNX \u30E2\u30C7\u30EB\u63A8\u8AD6\u30A8\u30F3\u30B8\u30F3\u3092\u521D\u671F\u5316\u3057\u307E\u3059\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"\u30D1\u30E9\u30E1\u30FC\u30BF"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"model_path"})," (",(0,o.jsx)(e.code,{children:"Union[str, Path]"}),")\uFF1A\u30D5\u30A1\u30A4\u30EB\u540D\u307E\u305F\u306F\u30B7\u30EA\u30A2\u30E9\u30A4\u30BA\u3055\u308C\u305F ONNX \u307E\u305F\u306F ORT \u5F62\u5F0F\u306E\u30E2\u30C7\u30EB\u306E\u30D0\u30A4\u30C8\u5217\u3002"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"gpu_id"})," (",(0,o.jsx)(e.code,{children:"int"}),")\uFF1AGPU ID\u3002\u30C7\u30D5\u30A9\u30EB\u30C8\u306F 0\u3002"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"backend"})," (",(0,o.jsx)(e.code,{children:"Union[str, int, Backend]"}),")\uFF1A\u63A8\u8AD6\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u3001",(0,o.jsx)(e.code,{children:"Backend.cpu"})," \u307E\u305F\u306F ",(0,o.jsx)(e.code,{children:"Backend.cuda"})," \u3092\u9078\u629E\u3067\u304D\u307E\u3059\u3002\u30C7\u30D5\u30A9\u30EB\u30C8\u306F ",(0,o.jsx)(e.code,{children:"Backend.cpu"}),"\u3002"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"session_option"})," (",(0,o.jsx)(e.code,{children:"Dict[str, Any]"}),")\uFF1Aonnxruntime.SessionOptions \u306E\u30D1\u30E9\u30E1\u30FC\u30BF\u3067\u3001\u30BB\u30C3\u30B7\u30E7\u30F3\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002\u30C7\u30D5\u30A9\u30EB\u30C8\u306F ",(0,o.jsx)(e.code,{children:"{}"}),"\u3002\u8A2D\u5B9A\u65B9\u6CD5\u306E\u8A73\u7D30\u306B\u3064\u3044\u3066\u306F\u3001",(0,o.jsx)(e.a,{href:"https://onnxruntime.ai/docs/api/python/api_summary.html#onnxruntime.SessionOptions",children:"SessionOptions"})," \u3092\u53C2\u7167\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"provider_option"})," (",(0,o.jsx)(e.code,{children:"Dict[str, Any]"}),")\uFF1Aonnxruntime.provider_options \u306E\u30D1\u30E9\u30E1\u30FC\u30BF\u3002\u30C7\u30D5\u30A9\u30EB\u30C8\u306F ",(0,o.jsx)(e.code,{children:"{}"}),"\u3002\u8A73\u7D30\u8A2D\u5B9A\u65B9\u6CD5\u306B\u3064\u3044\u3066\u306F\u3001",(0,o.jsx)(e.a,{href:"https://onnxruntime.ai/docs/execution-providers/CUDA-ExecutionProvider.html#configuration-options",children:"CUDAExecutionProvider"})," \u3092\u53C2\u7167\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"\u63A8\u8AD6"})}),"\n",(0,o.jsxs)(e.p,{children:["\u30E2\u30C7\u30EB\u3092\u30ED\u30FC\u30C9\u3059\u308B\u3068\u3001ONNX \u30D5\u30A1\u30A4\u30EB\u5185\u306E\u60C5\u5831\u304C\u8AAD\u307F\u8FBC\u307E\u308C\u3001\u5165\u529B\u3068\u51FA\u529B\u306B\u95A2\u3059\u308B\u5F62\u72B6\u3084\u30C7\u30FC\u30BF\u578B\u3092\u542B\u3080\u8F9E\u66F8\u304C\u8A2D\u5B9A\u3055\u308C\u307E\u3059\u3002\u3053\u308C\u306B\u3088\u308A\u3001",(0,o.jsx)(e.code,{children:"ONNXEngine"})," \u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u3092\u547C\u3073\u51FA\u3059\u3068\u3001\u76F4\u63A5\u305D\u306E\u8F9E\u66F8\u3092\u4F7F\u3063\u3066\u51FA\u529B\u7D50\u679C\u3092\u5F97\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"\u4F8B"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"import docsaidkit as D\n\nmodel_path = 'model.onnx'\nengine = D.ONNXEngine(model_path)\nprint(engine)\n\n# \u63A8\u8AD6\n# \u30E2\u30C7\u30EB\u306B2\u3064\u306E\u5165\u529B\u30682\u3064\u306E\u51FA\u529B\u304C\u3042\u308A\u3001\u540D\u524D\u306F\u4EE5\u4E0B\u306E\u901A\u308A\u3060\u3068\u4EEE\u5B9A\u3057\u307E\u3059\uFF1A\n#   'input1', 'input2', 'output1', 'output2'\u3002\ninput_data = {\n    'input1': np.random.randn(1, 3, 224, 224).astype(np.float32),\n    'input2': np.random.randn(1, 3, 224, 224).astype(np.float32),\n}\n\noutputs = engine(**input_data)\n\noutput_data1 = outputs['output1']\noutput_data2 = outputs['output2']\n"})}),"\n"]}),"\n"]})]})}function u(n={}){let{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(l,{...n})}):l(n)}},50065:function(n,e,i){i.d(e,{Z:function(){return d},a:function(){return r}});var t=i(67294);let o={},s=t.createContext(o);function r(n){let e=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);