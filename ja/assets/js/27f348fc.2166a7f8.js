"use strict";(self.webpackChunkdocsaid_website=self.webpackChunkdocsaid_website||[]).push([["77593"],{74868:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>c,default:()=>h,contentTitle:()=>t,assets:()=>d,toc:()=>a,metadata:()=>i});var i=JSON.parse('{"id":"nginx-notes/supplementary/sites-available-intro","title":"sites-available","description":"Nginx \u30B5\u30A4\u30C8\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/nginx-notes/supplementary/sites-available-intro.md","sourceDirName":"nginx-notes/supplementary","slug":"/nginx-notes/supplementary/sites-available-intro","permalink":"/ja/docs/nginx-notes/supplementary/sites-available-intro","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"zephyr-sh","lastUpdatedAt":1739451273000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"nginx.conf","permalink":"/ja/docs/nginx-notes/supplementary/nginx-conf-intro"},"next":{"title":"WordCanvas","permalink":"/ja/docs/wordcanvas/"}}'),l=s(85893),r=s(50065);let c={},t="sites-available",d={},a=[{value:"Nginx \u30B5\u30A4\u30C8\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB",id:"nginx-\u30B5\u30A4\u30C8\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB",level:2},{value:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u306E\u6982\u8981",id:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u306E\u6982\u8981",level:2},{value:"\u30C7\u30D5\u30A9\u30EB\u30C8\u30B5\u30FC\u30D0\u30FC\u8A2D\u5B9A",id:"\u30C7\u30D5\u30A9\u30EB\u30C8\u30B5\u30FC\u30D0\u30FC\u8A2D\u5B9A",level:2},{value:"FastCGI PHP \u51E6\u7406",id:"fastcgi-php-\u51E6\u7406",level:2},{value:"<code>.htaccess</code> \u30A2\u30AF\u30BB\u30B9\u5236\u9650",id:"htaccess-\u30A2\u30AF\u30BB\u30B9\u5236\u9650",level:2},{value:"\u4EEE\u60F3\u30DB\u30B9\u30C8\u8A2D\u5B9A\u306E\u4F8B",id:"\u4EEE\u60F3\u30DB\u30B9\u30C8\u8A2D\u5B9A\u306E\u4F8B",level:2},{value:"\u8A2D\u5B9A\u3092\u6709\u52B9/\u7121\u52B9\u306B\u3059\u308B\u65B9\u6CD5",id:"\u8A2D\u5B9A\u3092\u6709\u52B9\u7121\u52B9\u306B\u3059\u308B\u65B9\u6CD5",level:2}];function o(n){let e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"sites-available",children:"sites-available"})}),"\n",(0,l.jsx)(e.h2,{id:"nginx-\u30B5\u30A4\u30C8\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB",children:"Nginx \u30B5\u30A4\u30C8\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB"}),"\n",(0,l.jsxs)(e.p,{children:["\u30C7\u30D5\u30A9\u30EB\u30C8\u3067\u306F\u3001Nginx \u306F ",(0,l.jsx)(e.code,{children:"/etc/nginx/sites-available/default"})," \u3092\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u30B5\u30A4\u30C8\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u3068\u3057\u3066\u4F7F\u7528\u3057\u307E\u3059\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u5FC5\u8981\u306B\u5FDC\u3058\u3066\u3001\u65B0\u3057\u3044\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\uFF08\u4F8B\uFF1A",(0,l.jsx)(e.code,{children:"temp_api.conf"}),"\uFF09\u3092\u4F5C\u6210\u3057\u3001\u65B0\u3057\u3044 API \u306E\u30EA\u30D0\u30FC\u30B9\u30D7\u30ED\u30AD\u30B7\u3084\u9759\u7684\u30EA\u30BD\u30FC\u30B9\u306E\u63D0\u4F9B\u3092\u5C02\u7528\u306B\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u540C\u69D8\u306B\u3001\u3053\u306E\u30D5\u30A1\u30A4\u30EB\u306E\u5185\u5BB9\u3092\u898B\u3066\u307F\u307E\u3057\u3087\u3046\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-nginx",metastring:'title="/etc/nginx/sites-available/default.conf"',children:"##\n# You should look at the following URL's in order to grasp a solid understanding\n# of Nginx configuration files in order to fully unleash the power of Nginx.\n# https://www.nginx.com/resources/wiki/start/\n# https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/\n# https://wiki.debian.org/Nginx/DirectoryStructure\n#\n# In most cases, administrators will remove this file from sites-enabled/ and\n# leave it as reference inside of sites-available where it will continue to be\n# updated by the nginx packaging team.\n#\n# This file will automatically load configuration files provided by other\n# applications, such as Drupal or Wordpress. These applications will be made\n# available underneath a path with that package name, such as /drupal8.\n#\n# Please see /usr/share/doc/nginx-doc/examples/ for more detailed examples.\n##\n\n# Default server configuration\n#\nserver {\n	listen 80 default_server;\n	listen [::]:80 default_server;\n\n	# SSL configuration\n	#\n	# listen 443 ssl default_server;\n	# listen [::]:443 ssl default_server;\n	#\n	# Note: You should disable gzip for SSL traffic.\n	# See: https://bugs.debian.org/773332\n	#\n	# Read up on ssl_ciphers to ensure a secure configuration.\n	# See: https://bugs.debian.org/765782\n	#\n	# Self signed certs generated by the ssl-cert package\n	# Don't use them in a production server!\n	#\n	# include snippets/snakeoil.conf;\n\n	root /var/www/html;\n\n	# Add index.php to the list if you are using PHP\n	index index.html index.htm index.nginx-debian.html;\n\n	server_name _;\n\n	location / {\n		# First attempt to serve request as file, then\n		# as directory, then fall back to displaying a 404.\n		try_files $uri $uri/ =404;\n	}\n\n	# pass PHP scripts to FastCGI server\n	#\n	#location ~ \\.php$ {\n	#	include snippets/fastcgi-php.conf;\n	#\n	#	# With php-fpm (or other unix sockets):\n	#	fastcgi_pass unix:/run/php/php7.4-fpm.sock;\n	#	# With php-cgi (or other tcp sockets):\n	#	fastcgi_pass 127.0.0.1:9000;\n	#}\n\n	# deny access to .htaccess files, if Apache's document root\n	# concurs with nginx's one\n	#\n	#location ~ /\\.ht {\n	#	deny all;\n	#}\n}\n\n\n# Virtual Host configuration for example.com\n#\n# You can move that to a different file under sites-available/ and symlink that\n# to sites-enabled/ to enable it.\n#\n#server {\n#	listen 80;\n#	listen [::]:80;\n#\n#	server_name example.com;\n#\n#	root /var/www/example.com;\n#	index index.html;\n#\n#	location / {\n#		try_files $uri $uri/ =404;\n#	}\n#}\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u306E\u6982\u8981",children:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u306E\u6982\u8981"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-nginx",children:"##\n# Nginx \u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u3092\u5B8C\u5168\u306B\u7406\u89E3\u3057\u3001\u305D\u306E\u529B\u3092\u6700\u5927\u9650\u306B\u5F15\u304D\u51FA\u3059\u305F\u3081\u306B\u4EE5\u4E0B\u306E URL \u3092\u3054\u89A7\u304F\u3060\u3055\u3044\u3002\n# https://www.nginx.com/resources/wiki/start/\n# https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/\n# https://wiki.debian.org/Nginx/DirectoryStructure\n#\n# \u307B\u3068\u3093\u3069\u306E\u5834\u5408\u3001\u7BA1\u7406\u8005\u306F\u3053\u306E\u30D5\u30A1\u30A4\u30EB\u3092 `sites-enabled/` \u304B\u3089\u524A\u9664\u3057\u3001\n# `sites-available/` \u5185\u306B\u53C2\u7167\u7528\u3068\u3057\u3066\u6B8B\u3057\u3001Nginx \u30D1\u30C3\u30B1\u30FC\u30B8\u30C1\u30FC\u30E0\u306B\u3088\u3063\u3066\u66F4\u65B0\u3055\u308C\u7D9A\u3051\u307E\u3059\u3002\n#\n# \u3053\u306E\u30D5\u30A1\u30A4\u30EB\u306F\u4ED6\u306E\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\uFF08\u4F8B\uFF1ADrupal \u3084 Wordpress\uFF09\u306B\u3088\u3063\u3066\u63D0\u4F9B\u3055\u308C\u308B\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u3092\u81EA\u52D5\u7684\u306B\u8AAD\u307F\u8FBC\u307F\u307E\u3059\u3002\n#\n# \u3088\u308A\u8A73\u7D30\u306A\u4F8B\u306B\u3064\u3044\u3066\u306F\u3001/usr/share/doc/nginx-doc/examples/ \u3092\u53C2\u7167\u3057\u3066\u304F\u3060\u3055\u3044\u3002\n##\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u3053\u306E\u90E8\u5206\u306F\u958B\u767A\u8005\u304B\u3089\u306E\u300C\u30B3\u30E1\u30F3\u30C8\u300D\u3067\u3001Nginx \u8A2D\u5B9A\u3092\u5B66\u3076\u305F\u3081\u306E\u30EA\u30BD\u30FC\u30B9\u30EA\u30F3\u30AF\u304C\u63D0\u4F9B\u3055\u308C\u3066\u304A\u308A\u3001\u7BA1\u7406\u8005\u306B\u5BFE\u3057\u3066\u3053\u306E\u30D5\u30A1\u30A4\u30EB\u3092 ",(0,l.jsx)(e.code,{children:"sites-available/"})," \u306B\u6B8B\u3057\u3001\u5B9F\u969B\u306E\u8A2D\u5B9A\u306F ",(0,l.jsx)(e.code,{children:"sites-enabled/"})," \u304B\u3089\u8AAD\u307F\u8FBC\u3080\u3088\u3046\u306B\u30A2\u30C9\u30D0\u30A4\u30B9\u3057\u3066\u3044\u307E\u3059\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u958B\u767A\u8005\u304B\u3089\u306E\u30A2\u30C9\u30D0\u30A4\u30B9\u3067\u3059\u306E\u3067\u3001\u3053\u308C\u306B\u5F93\u3044\u3001\u30D5\u30A1\u30A4\u30EB\u306B\u306F\u89E6\u308C\u305A\u306B\u6B21\u3078\u9032\u307F\u307E\u3057\u3087\u3046\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"\u30C7\u30D5\u30A9\u30EB\u30C8\u30B5\u30FC\u30D0\u30FC\u8A2D\u5B9A",children:"\u30C7\u30D5\u30A9\u30EB\u30C8\u30B5\u30FC\u30D0\u30FC\u8A2D\u5B9A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-nginx",children:"server {\n    listen 80 default_server;\n    listen [::]:80 default_server;\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.code,{children:"listen 80 default_server;"})})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u30B5\u30FC\u30D0\u30FC\u304C ",(0,l.jsx)(e.strong,{children:"\u30DD\u30FC\u30C8 80\uFF08HTTP\uFF09"})," \u3092\u30EA\u30C3\u30B9\u30F3\u3057\u3001\u300C\u30C7\u30D5\u30A9\u30EB\u30C8\u30B5\u30FC\u30D0\u30FC\u300D\u3068\u3057\u3066\u8A2D\u5B9A\u3055\u308C\u307E\u3059\u3002",(0,l.jsx)(e.code,{children:"server_name"})," \u3068\u4E00\u81F4\u3057\u306A\u3044\u30EA\u30AF\u30A8\u30B9\u30C8\u306F\u3001\u3053\u306E\u30D6\u30ED\u30C3\u30AF\u3067\u51E6\u7406\u3055\u308C\u307E\u3059\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.code,{children:"listen [::]:80 default_server;"})})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"IPv6"})," \u306E\u30EA\u30AF\u30A8\u30B9\u30C8\u3082\u30DD\u30FC\u30C8 80 \u3092\u4ECB\u3057\u3066\u3053\u306E\u30B5\u30FC\u30D0\u30FC\u306B\u30A2\u30AF\u30BB\u30B9\u3067\u304D\u308B\u3088\u3046\u306B\u3057\u307E\u3059\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u30A6\u30A7\u30D6\u30B5\u30A4\u30C8\u30EB\u30FC\u30C8\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3068\u30A4\u30F3\u30C7\u30C3\u30AF\u30B9\u30DA\u30FC\u30B8\u8A2D\u5B9A"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-nginx",children:"  root /var/www/html;\n\n  # PHP \u3092\u4F7F\u7528\u3057\u3066\u3044\u308B\u5834\u5408\u306F index.php \u3092\u30EA\u30B9\u30C8\u306B\u8FFD\u52A0\n  index index.html index.htm index.nginx-debian.html;\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.code,{children:"root /var/www/html;"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u30B5\u30A4\u30C8\u306E\u30EB\u30FC\u30C8\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002\u3059\u3079\u3066\u306E\u9759\u7684\u30D5\u30A1\u30A4\u30EB\uFF08HTML\u3001CSS\u3001JS\uFF09\u306F\u3053\u306E\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u304B\u3089\u63D0\u4F9B\u3055\u308C\u307E\u3059\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.code,{children:"index index.html index.htm index.nginx-debian.html;"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u30A4\u30F3\u30C7\u30C3\u30AF\u30B9\u30D5\u30A1\u30A4\u30EB\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",(0,l.jsx)(e.code,{children:"index.html"})," \u304C\u5B58\u5728\u3059\u308B\u5834\u5408\u306F\u305D\u308C\u304C\u8FD4\u3055\u308C\u3001\u5B58\u5728\u3057\u306A\u3044\u5834\u5408\u306F ",(0,l.jsx)(e.code,{children:"index.htm"})," \u3092\u63A2\u3057\u3001\u3069\u3061\u3089\u3082\u306A\u3051\u308C\u3070 ",(0,l.jsx)(e.code,{children:"location"})," \u30EB\u30FC\u30EB\u306B\u5F93\u3063\u3066\u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u51E6\u7406\u3057\u307E\u3059\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u30B5\u30FC\u30D0\u30FC\u540D\u8A2D\u5B9A"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-nginx",children:"  server_name _;\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.code,{children:"server_name _;"})})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"_"})," \u306F\u300C\u3059\u3079\u3066\u306E\u4E00\u81F4\u3057\u306A\u3044\u30EA\u30AF\u30A8\u30B9\u30C8\u300D\u3092\u3053\u306E\u30B5\u30FC\u30D0\u30FC\u30D6\u30ED\u30C3\u30AF\u3067\u51E6\u7406\u3059\u308B\u3053\u3068\u3092\u610F\u5473\u3057\u307E\u3059\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u7279\u5B9A\u306E\u30C9\u30E1\u30A4\u30F3\u540D\u306B\u5909\u66F4\u3059\u308B\u3053\u3068\u3082\u3067\u304D\u3001\u4F8B\u3048\u3070 ",(0,l.jsx)(e.code,{children:"server_name example.com;"})," \u3068\u8A2D\u5B9A\u3059\u308B\u3068\u3001",(0,l.jsx)(e.code,{children:"example.com"})," \u306E\u30EA\u30AF\u30A8\u30B9\u30C8\u3060\u3051\u304C\u3053\u306E\u8A2D\u5B9A\u3067\u51E6\u7406\u3055\u308C\u307E\u3059\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u9759\u7684\u30EA\u30BD\u30FC\u30B9\u3068 404 \u30DA\u30FC\u30B8\u306E\u51E6\u7406"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-nginx",children:"  location / {\n      # \u6700\u521D\u306B\u30D5\u30A1\u30A4\u30EB\u3068\u3057\u3066\u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u51E6\u7406\u3057\u3001\u6B21\u306B\n      # \u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3068\u3057\u3066\u51E6\u7406\u3057\u3001\u305D\u308C\u304C\u5931\u6557\u3057\u305F\u5834\u5408\u306F 404 \u3092\u8868\u793A\n      try_files $uri $uri/ =404;\n  }\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.code,{children:"location / {}"})})}),"\n",(0,l.jsxs)(e.li,{children:["\u30EB\u30FC\u30C8\uFF08",(0,l.jsx)(e.code,{children:"/"}),"\uFF09\u306E\u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u51E6\u7406\u3059\u308B\u65B9\u6CD5\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.code,{children:"try_files $uri $uri/ =404;"})})}),"\n",(0,l.jsxs)(e.li,{children:["\u9806\u756A\u306B\u8A66\u884C\u3057\u307E\u3059\uFF1A","\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"$uri"}),"\uFF08\u30EA\u30AF\u30A8\u30B9\u30C8\u3055\u308C\u305F\u30D5\u30A1\u30A4\u30EB\u3001\u4F8B\u3048\u3070 ",(0,l.jsx)(e.code,{children:"/index.html"}),"\uFF09\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"$uri/"}),"\uFF08\u3082\u3057\u30EA\u30AF\u30A8\u30B9\u30C8\u304C\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u306E\u5834\u5408\u3001\u305D\u306E\u4E2D\u306B ",(0,l.jsx)(e.code,{children:"index.html"})," \u304C\u3042\u308B\u304B\u30C1\u30A7\u30C3\u30AF\uFF09\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["\u3069\u3061\u3089\u3082\u5B58\u5728\u3057\u306A\u3044\u5834\u5408\u3001",(0,l.jsx)(e.strong,{children:"404 Not Found"})," \u3092\u8FD4\u3057\u307E\u3059\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"fastcgi-php-\u51E6\u7406",children:"FastCGI PHP \u51E6\u7406"}),"\n",(0,l.jsx)(e.admonition,{type:"tip",children:(0,l.jsx)(e.p,{children:"\u3053\u306E\u30B3\u30FC\u30C9\u30D6\u30ED\u30C3\u30AF\u306F\u30C7\u30D5\u30A9\u30EB\u30C8\u3067\u30B3\u30E1\u30F3\u30C8\u30A2\u30A6\u30C8\u3055\u308C\u3066\u3044\u307E\u3059\u3002"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-nginx",children:"    # PHP \u30B9\u30AF\u30EA\u30D7\u30C8\u3092 FastCGI \u30B5\u30FC\u30D0\u30FC\u306B\u6E21\u3059\n    #\n    #location ~ \\.php$ {\n    #    include snippets/fastcgi-php.conf;\n    #\n    #    # php-fpm\uFF08\u307E\u305F\u306F\u4ED6\u306E Unix \u30BD\u30B1\u30C3\u30C8\uFF09\u3067\u51E6\u7406\u3059\u308B\u5834\u5408\uFF1A\n    #    fastcgi_pass unix:/run/php/php7.4-fpm.sock;\n    #    # php-cgi\uFF08\u307E\u305F\u306F\u4ED6\u306E TCP \u30BD\u30B1\u30C3\u30C8\uFF09\u3067\u51E6\u7406\u3059\u308B\u5834\u5408\uFF1A\n    #    fastcgi_pass 127.0.0.1:9000;\n    #}\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u3053\u306E\u30D6\u30ED\u30C3\u30AF\u306F ",(0,l.jsx)(e.strong,{children:"FastCGI \u8A2D\u5B9A"})," \u3067\u3001Nginx \u304C PHP \u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u51E6\u7406\u3057\u3001PHP-FPM \u30B5\u30FC\u30D0\u30FC\u306B\u8EE2\u9001\u3057\u307E\u3059\u3002"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"PHP-FPM \u51E6\u7406\u3092\u6709\u52B9\u306B\u3059\u308B\u65B9\u6CD5"}),"\uFF1A","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"location ~ \\.php$"})," \u306E\u30B3\u30E1\u30F3\u30C8\u3092\u89E3\u9664\u3057\u307E\u3059\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["PHP-FPM \u304C ",(0,l.jsx)(e.code,{children:"/run/php/php7.4-fpm.sock"})," \u307E\u305F\u306F ",(0,l.jsx)(e.code,{children:"127.0.0.1:9000"})," \u3067\u5B9F\u884C\u3055\u308C\u3066\u3044\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u307E\u3059\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.h2,{id:"htaccess-\u30A2\u30AF\u30BB\u30B9\u5236\u9650",children:[(0,l.jsx)(e.code,{children:".htaccess"})," \u30A2\u30AF\u30BB\u30B9\u5236\u9650"]}),"\n",(0,l.jsx)(e.admonition,{type:"tip",children:(0,l.jsx)(e.p,{children:"\u3053\u306E\u30B3\u30FC\u30C9\u30D6\u30ED\u30C3\u30AF\u306F\u30C7\u30D5\u30A9\u30EB\u30C8\u3067\u30B3\u30E1\u30F3\u30C8\u30A2\u30A6\u30C8\u3055\u308C\u3066\u3044\u307E\u3059\u3002"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-nginx",children:"    # Apache \u306E\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u30EB\u30FC\u30C8\u3068 nginx \u306E\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u30EB\u30FC\u30C8\u304C\u4E00\u81F4\u3059\u308B\u5834\u5408\u3001\n    # .htaccess \u30D5\u30A1\u30A4\u30EB\u3078\u306E\u30A2\u30AF\u30BB\u30B9\u3092\u62D2\u5426\n    #\n    #location ~ /\\.ht {\n    #    deny all;\n    #}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:".htaccess"})," \u306F Apache \u3067\u4F7F\u7528\u3055\u308C\u308B\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u3067\u3001Nginx \u306F ",(0,l.jsxs)(e.strong,{children:[(0,l.jsx)(e.code,{children:".htaccess"})," \u3092\u30B5\u30DD\u30FC\u30C8\u3057\u3066\u3044\u307E\u305B\u3093"]}),"\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u305F\u3060\u3057\u3001Nginx \u3068 Apache \u304C\u5171\u5B58\u3057\u3066\u3044\u308B\u5834\u5408\u3001\u3053\u306E\u30EB\u30FC\u30EB\u3092\u4F7F\u7528\u3057\u3066 ",(0,l.jsx)(e.code,{children:".htaccess"})," \u3078\u306E\u5916\u90E8\u30A2\u30AF\u30BB\u30B9\u3092\u9632\u3050\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"\u4EEE\u60F3\u30DB\u30B9\u30C8\u8A2D\u5B9A\u306E\u4F8B",children:"\u4EEE\u60F3\u30DB\u30B9\u30C8\u8A2D\u5B9A\u306E\u4F8B"}),"\n",(0,l.jsx)(e.admonition,{type:"tip",children:(0,l.jsx)(e.p,{children:"\u3053\u306E\u30B3\u30FC\u30C9\u30D6\u30ED\u30C3\u30AF\u306F\u30C7\u30D5\u30A9\u30EB\u30C8\u3067\u30B3\u30E1\u30F3\u30C8\u30A2\u30A6\u30C8\u3055\u308C\u3066\u3044\u307E\u3059\u3002"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-nginx",children:"#server {\n#    listen 80;\n#    listen [::]:80;\n#\n#    server_name example.com;\n#\n#    root /var/www/example.com;\n#    index index.html;\n#\n#    location / {\n#        try_files $uri $uri/ =404;\n#    }\n#}\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u3053\u308C\u306F ",(0,l.jsx)(e.code,{children:"example.com"})," \u30B5\u30A4\u30C8\u7528\u306E\u4EEE\u60F3\u30DB\u30B9\u30C8\u8A2D\u5B9A\u306E\u4F8B\u3067\u3059\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u3053\u306E\u30B3\u30FC\u30C9\u3092 ",(0,l.jsx)(e.code,{children:"sites-available/example.com"})," \u306B\u79FB\u52D5\u3057\u3001",(0,l.jsx)(e.code,{children:"sites-enabled/"})," \u306B\u30B7\u30F3\u30DC\u30EA\u30C3\u30AF\u30EA\u30F3\u30AF\u3092\u4F5C\u6210\u3057\u3066\u6709\u52B9\u306B\u3067\u304D\u307E\u3059\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"\u8A2D\u5B9A\u3092\u6709\u52B9\u7121\u52B9\u306B\u3059\u308B\u65B9\u6CD5",children:"\u8A2D\u5B9A\u3092\u6709\u52B9/\u7121\u52B9\u306B\u3059\u308B\u65B9\u6CD5"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"sites-available"})," \u5185\u3067\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u3092\u4F5C\u6210\u3057\u305F\u5F8C\u3001\u3053\u306E\u30D5\u30A1\u30A4\u30EB\u3092 ",(0,l.jsx)(e.code,{children:"sites-enabled"})," \u306B\u30EA\u30F3\u30AF\u3057\u3066\u521D\u3081\u3066\u8A2D\u5B9A\u304C\u53CD\u6620\u3055\u308C\u307E\u3059\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u4F8B\u3048\u3070\u3001\u3053\u306E ",(0,l.jsx)(e.code,{children:"default"})," \u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u3092 Ubuntu/Debian \u30B7\u30B9\u30C6\u30E0\u3067\u6709\u52B9\u306B\u3059\u308B\u306B\u306F\u3001\u6B21\u306E\u30B3\u30DE\u30F3\u30C9\u3092\u4F7F\u7528\u3057\u307E\u3059\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo ln -s /etc/nginx/sites-available/default /etc/nginx/sites-enabled/\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u7121\u52B9\u306B\u3059\u308B\u306B\u306F\u3001\u307E\u305A ",(0,l.jsx)(e.code,{children:"sites-enabled"})," \u5185\u306E\u30EA\u30F3\u30AF\u3092\u524A\u9664\u3057\u307E\u3059\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo rm /etc/nginx/sites-enabled/default\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u305D\u306E\u5F8C\u3001Nginx \u3092\u30EA\u30ED\u30FC\u30C9\u3057\u307E\u3059\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"sudo systemctl reload nginx\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.p,{children:["\u3053\u306E ",(0,l.jsx)(e.code,{children:"default"})," \u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u306F\u901A\u5E38 ",(0,l.jsx)(e.strong,{children:"Nginx \u306E\u30C7\u30D5\u30A9\u30EB\u30C8\u30B5\u30A4\u30C8"})," \u3068\u3057\u3066\u4F7F\u7528\u3055\u308C\u3001Nginx \u304C\u6B63\u5E38\u306B\u52D5\u4F5C\u3057\u3066\u3044\u308B\u304B\u3092\u30C6\u30B9\u30C8\u3059\u308B\u306E\u306B\u9069\u3057\u3066\u3044\u307E\u3059\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u30B5\u30A4\u30C8\u3092\u30AB\u30B9\u30BF\u30DE\u30A4\u30BA\u3059\u308B\u5834\u5408\u306F\u3001\u300C\u65B0\u3057\u3044\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u3092\u4F5C\u6210\u3057\u300D\u3001\u9069\u5207\u306A ",(0,l.jsx)(e.code,{children:"server_name"})," \u8A2D\u5B9A\u3092\u6709\u52B9\u306B\u3059\u308B\u3053\u3068\u3092\u304A\u52E7\u3081\u3057\u307E\u3059\u3002"]})]})}function h(n={}){let{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},50065:function(n,e,s){s.d(e,{Z:()=>t,a:()=>c});var i=s(67294);let l={},r=i.createContext(l);function c(n){let e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:c(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);