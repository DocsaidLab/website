"use strict";(self.webpackChunkdocsaid_website=self.webpackChunkdocsaid_website||[]).push([["97933"],{41874:function(e,n,s){s.r(n),s.d(n,{assets:function(){return o},contentTitle:function(){return d},default:function(){return t},frontMatter:function(){return l},metadata:function(){return r},toc:function(){return a}});var r=s(67171),i=s(85893),c=s(50065);let l={slug:"setting-up-pypiserver-on-ubuntu-with-docker",title:"PyPiServer\u306E\u8A2D\u5B9A\u8A18\u9332",authors:"Z. Yuan",tags:["docker","pypiserver"],image:"/ja/img/2023/0913.webp",description:"Ubuntu\u3067PyPiServer\u3092\u8A2D\u5B9A\u3059\u308B\u904E\u7A0B\u306E\u8A18\u9332\u3002"},d=void 0,o={authorsImageUrls:[void 0]},a=[{value:"\u30A4\u30E1\u30FC\u30B8\u3092\u30D7\u30EB\u3059\u308B",id:"\u30A4\u30E1\u30FC\u30B8\u3092\u30D7\u30EB\u3059\u308B",level:2},{value:"\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3092\u4F5C\u6210\u3059\u308B",id:"\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3092\u4F5C\u6210\u3059\u308B",level:2},{value:"htpasswd \u306E\u8A2D\u5B9A",id:"htpasswd-\u306E\u8A2D\u5B9A",level:2},{value:"\u30D0\u30C3\u30AF\u30B0\u30E9\u30A6\u30F3\u30C9\u30B5\u30FC\u30D3\u30B9\u3068\u3057\u3066\u5B9F\u884C\u3059\u308B",id:"\u30D0\u30C3\u30AF\u30B0\u30E9\u30A6\u30F3\u30C9\u30B5\u30FC\u30D3\u30B9\u3068\u3057\u3066\u5B9F\u884C\u3059\u308B",level:2},{value:"Docker Compose \u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",id:"docker-compose-\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",level:3},{value:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u306E\u4F5C\u6210",id:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u306E\u4F5C\u6210",level:3},{value:"Systemd \u30B5\u30FC\u30D3\u30B9\u306E\u4F5C\u6210",id:"systemd-\u30B5\u30FC\u30D3\u30B9\u306E\u4F5C\u6210",level:3},{value:"\u30B5\u30FC\u30D3\u30B9\u306E\u8D77\u52D5",id:"\u30B5\u30FC\u30D3\u30B9\u306E\u8D77\u52D5",level:3},{value:"\u72B6\u614B\u306E\u78BA\u8A8D",id:"\u72B6\u614B\u306E\u78BA\u8A8D",level:2},{value:"\u4F7F\u3044\u59CB\u3081\u308B",id:"\u4F7F\u3044\u59CB\u3081\u308B",level:2},{value:"\u30D1\u30C3\u30B1\u30FC\u30B8\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",id:"\u30D1\u30C3\u30B1\u30FC\u30B8\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",level:3},{value:"\u30D1\u30C3\u30B1\u30FC\u30B8\u306E\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3068\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",id:"\u30D1\u30C3\u30B1\u30FC\u30B8\u306E\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3068\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",level:3},{value:"\u57FA\u672C\u8A8D\u8A3C\u306E\u4F7F\u7528",id:"\u57FA\u672C\u8A8D\u8A3C\u306E\u4F7F\u7528",level:3},{value:"<code>pip.conf</code>\u306E\u8A2D\u5B9A",id:"pipconf\u306E\u8A2D\u5B9A",level:2},{value:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB",id:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB",level:3},{value:"\u7D50\u8A9E",id:"\u7D50\u8A9E",level:2}];function p(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"\u4ECA\u65E5\u306F Docker \u3092\u4F7F\u3063\u3066 PyPi Server \u3092\u7ACB\u3066\u3001Ubuntu \u4E0A\u3067\u5B9F\u884C\u3059\u308B\u65B9\u6CD5\u3092\u8A18\u9332\u3057\u307E\u3059\u3002"}),"\n",(0,i.jsx)(n.p,{children:"Ubuntu \u306B Docker \u304C\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3055\u308C\u3066\u304A\u308A\u3001\u57FA\u672C\u7684\u306A Docker \u64CD\u4F5C\u306B\u6163\u308C\u3066\u3044\u308B\u524D\u63D0\u3067\u3059\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u30A4\u30E1\u30FC\u30B8\u3092\u30D7\u30EB\u3059\u308B",children:"\u30A4\u30E1\u30FC\u30B8\u3092\u30D7\u30EB\u3059\u308B"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker pull pypiserver/pypiserver:latest\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3092\u4F5C\u6210\u3059\u308B",children:"\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3092\u4F5C\u6210\u3059\u308B"}),"\n",(0,i.jsx)(n.p,{children:"\u624B\u9593\u3092\u7701\u304F\u305F\u3081\u306B\u3001\u76F4\u63A5\u30DB\u30FC\u30E0\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u306B Python \u30D1\u30C3\u30B1\u30FC\u30B8\u3092\u683C\u7D0D\u3059\u308B\u305F\u3081\u306E\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u3092\u4F5C\u6210\u3057\u307E\u3059\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir ~/packages\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u597D\u304D\u306A\u540D\u524D\u306B\u5909\u66F4\u3067\u304D\u307E\u3059\u304C\u3001\u5F8C\u306E\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u3067\u3082\u540D\u524D\u3092\u5909\u66F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"htpasswd-\u306E\u8A2D\u5B9A",children:"htpasswd \u306E\u8A2D\u5B9A"}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u8A2D\u5B9A\u3057\u305F\u304F\u306A\u3044\u5834\u5408\u3001\u3053\u306E\u624B\u9806\u3092\u30B9\u30AD\u30C3\u30D7\u3067\u304D\u307E\u3059\u3002"})}),"\n",(0,i.jsx)(n.p,{children:"htpasswd \u306F\u3001\u30E6\u30FC\u30B6\u30FC\u540D\u3068\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u683C\u7D0D\u3059\u308B\u30D5\u30A1\u30A4\u30EB\u5F62\u5F0F\u3067\u3001pypiserver \u306F\u3053\u306E\u30D5\u30A1\u30A4\u30EB\u3092\u4F7F\u7528\u3057\u3066\u30E6\u30FC\u30B6\u30FC\u3092\u8A8D\u8A3C\u3057\u307E\u3059\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u3053\u308C\u306F\u7C21\u5358\u3067\u52B9\u679C\u7684\u306A\u65B9\u6CD5\u3067\u3001pypiserver \u306E\u30BB\u30AD\u30E5\u30EA\u30C6\u30A3\u3092\u5F37\u5316\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u307E\u305A\u3001apache2-utils \u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3057\u307E\u3059\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install apache2-utils\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6B21\u306B\u3001\u4EE5\u4E0B\u306E\u30B3\u30DE\u30F3\u30C9\u3067\u65B0\u3057\u3044",(0,i.jsx)(n.code,{children:".htpasswd"}),"\u30D5\u30A1\u30A4\u30EB\u3092\u4F5C\u6210\u3057\u307E\u3059\uFF1A"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"htpasswd -c ~/.htpasswd [username]\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"username"}),"\u306E\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5165\u529B\u3059\u308B\u3088\u3046\u306B\u6C42\u3081\u3089\u308C\u307E\u3059\u3002\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5165\u529B\u3059\u308B\u3068\u3001",(0,i.jsx)(n.code,{children:".htpasswd"}),"\u30D5\u30A1\u30A4\u30EB\u304C\u30DB\u30FC\u30E0\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA\u306B\u4F5C\u6210\u3055\u308C\u307E\u3059\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u30D5\u30A1\u30A4\u30EB\u304C\u4F5C\u6210\u3055\u308C\u305F\u5F8C\u306F\u3001\u4E0A\u8A18\u306E",(0,i.jsx)(n.code,{children:"docker run"}),"\u30B3\u30DE\u30F3\u30C9\u3092\u4F7F\u3063\u3066",(0,i.jsx)(n.code,{children:"pypiserver"}),"\u3092\u5B9F\u884C\u3057\u3001",(0,i.jsx)(n.code,{children:".htpasswd"}),"\u30D5\u30A1\u30A4\u30EB\u3067\u8A8D\u8A3C\u3092\u884C\u3044\u307E\u3059\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u30D0\u30C3\u30AF\u30B0\u30E9\u30A6\u30F3\u30C9\u30B5\u30FC\u30D3\u30B9\u3068\u3057\u3066\u5B9F\u884C\u3059\u308B",children:"\u30D0\u30C3\u30AF\u30B0\u30E9\u30A6\u30F3\u30C9\u30B5\u30FC\u30D3\u30B9\u3068\u3057\u3066\u5B9F\u884C\u3059\u308B"}),"\n",(0,i.jsx)(n.p,{children:"Docker \u30B3\u30F3\u30C6\u30CA\u3092\u30D0\u30C3\u30AF\u30B0\u30E9\u30A6\u30F3\u30C9\u30B5\u30FC\u30D3\u30B9\u3068\u3057\u3066\u5B9F\u884C\u3059\u308B\u305F\u3081\u306B\u3001\u3053\u3053\u3067\u306F Docker Compose \u3068 Systemd \u3092\u4F7F\u7528\u3057\u307E\u3059\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"docker-compose-\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",children:"Docker Compose \u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB"}),"\n",(0,i.jsx)(n.p,{children:"\u307E\u3060 Docker Compose \u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3057\u3066\u3044\u306A\u3044\u5834\u5408\u3001\u307E\u305A\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3057\u307E\u3059\u3002\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u65B9\u6CD5\u306B\u3064\u3044\u3066\u306F\u4EE5\u4E0B\u306E\u30EA\u30F3\u30AF\u3092\u53C2\u8003\u306B\u3057\u3066\u304F\u3060\u3055\u3044\uFF1A"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.docker.com/compose/install/",children:(0,i.jsx)(n.strong,{children:"Docker Compose \u306E\u516C\u5F0F\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u30AC\u30A4\u30C9"})})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u6CE8\u610F\u70B9\u3068\u3057\u3066\u3001\u6700\u8FD1 Docker Compose \u306B\u5927\u304D\u306A\u66F4\u65B0\u304C\u3042\u308A\u3001\u591A\u304F\u306E\u30B3\u30DE\u30F3\u30C9\u304C\u5909\u66F4\u3055\u308C\u307E\u3057\u305F\u3002\u6700\u3082\u9855\u8457\u306A\u306E\u306F\u3001\u4EE5\u524D\u306E",(0,i.jsx)(n.code,{children:"docker-compose"}),"\u30B3\u30DE\u30F3\u30C9\u304C\u3001\u73FE\u5728\u306F\u3059\u3079\u3066",(0,i.jsx)(n.code,{children:"docker compose"}),"\u306B\u5909\u66F4\u3055\u308C\u305F\u3053\u3068\u3067\u3059\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u516C\u5F0F\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u306B\u5F93\u3063\u3066\u3001\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u624B\u9806\u3092\u4EE5\u4E0B\u306B\u307E\u3068\u3081\u307E\u3057\u305F\uFF1A"}),"\n",(0,i.jsx)(n.p,{children:"\u6700\u65B0\u306E Docker Compose \u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3057\u307E\u3059\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt update\nsudo apt install docker-compose-plugin\n"})}),"\n",(0,i.jsx)(n.p,{children:"Docker Compose \u304C\u6B63\u3057\u304F\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3055\u308C\u305F\u304B\u78BA\u8A8D\u3059\u308B\u306B\u306F\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose version\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u306E\u4F5C\u6210",children:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u306E\u4F5C\u6210"}),"\n",(0,i.jsxs)(n.p,{children:["\u9069\u5F53\u306A\u5834\u6240\u306B",(0,i.jsx)(n.code,{children:"docker-compose.yml"}),"\u3092\u4F5C\u6210\u3057\u3001\u4EE5\u4E0B\u306E\u5185\u5BB9\u3092\u5165\u529B\u3057\u307E\u3059\uFF1A"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:"{6-7}",children:'version: "3.3"\nservices:\n  pypiserver:\n    image: pypiserver/pypiserver:latest\n    volumes:\n      - /home/[\u30E6\u30FC\u30B6\u30FC\u540D]/auth:/data/auth\n      - /home/[\u30E6\u30FC\u30B6\u30FC\u540D]/packages:/data/packages\n    command: run -P /data/auth/.htpasswd -a update,download,list /data/packages\n    ports:\n      - "8080:8080"\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4E0A\u8A18\u3067\u5F37\u8ABF\u3055\u308C\u3066\u3044\u308B[\u30E6\u30FC\u30B6\u30FC\u540D]\u3092\u5B9F\u969B\u306E\u30E6\u30FC\u30B6\u30FC\u540D\u306B\u7F6E\u304D\u63DB\u3048\u3066\u304F\u3060\u3055\u3044\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["\u5916\u90E8\u30DD\u30FC\u30C8\u306E\u30DE\u30C3\u30D4\u30F3\u30B0\u5024\u3092\u5909\u66F4\u3057\u305F\u3044\u5834\u5408\u306F\u3001\u4F8B\u3048\u3070",(0,i.jsx)(n.code,{children:'"18080:8080"'}),"\u306E\u3088\u3046\u306B\u5909\u66F4\u3067\u304D\u307E\u3059\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"pypiserver"}),"\u304C\u63D0\u4F9B\u3057\u3066\u3044\u308B\u30B5\u30F3\u30D7\u30EB\u3092\u53C2\u8003\u306B\u3059\u308B\u3053\u3068\u3082\u3067\u304D\u307E\u3059\uFF1A",(0,i.jsx)(n.a,{href:"https://github.com/pypiserver/pypiserver/blob/master/docker-compose.yml",children:(0,i.jsx)(n.strong,{children:"docker-compose.yml"})})]})}),"\n",(0,i.jsxs)(n.p,{children:["\u30D1\u30B9\u30EF\u30FC\u30C9\u8A2D\u5B9A\u3092\u7701\u7565\u3057\u305F\u3044\u5834\u5408\u306F\u3001\u4E0A\u8A18\u306E",(0,i.jsx)(n.code,{children:"command"}),"\u5185\u306E\u30B3\u30DE\u30F3\u30C9\u3092\u4EE5\u4E0B\u306E\u3088\u3046\u306B\u5909\u66F4\u3057\u307E\u3059\uFF1A"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"command: run -a . -P . /data/packages --server wsgiref\n"})}),"\n",(0,i.jsx)(n.h3,{id:"systemd-\u30B5\u30FC\u30D3\u30B9\u306E\u4F5C\u6210",children:"Systemd \u30B5\u30FC\u30D3\u30B9\u306E\u4F5C\u6210"}),"\n",(0,i.jsx)(n.p,{children:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\u3092\u4F5C\u6210\u3057\u307E\u3059\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo vim /etc/systemd/system/pypiserver.service\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u4EE5\u4E0B\u306E\u5185\u5BB9\u3092\u5165\u529B\u3057\u307E\u3059\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:"{7}",children:"[Unit]\nDescription=PypiServer Docker Compose\nRequires=docker.service\nAfter=docker.service\n\n[Service]\nWorkingDirectory=/path/to/your/docker-compose/directory\nExecStart=/usr/bin/docker compose up --remove-orphans\nExecStop=/usr/bin/docker compose down\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/path/to/your/docker-compose/directory"}),"\u3092",(0,i.jsx)(n.code,{children:"docker-compose.yml"}),"\u306E\u5B9F\u969B\u306E\u30D1\u30B9\u306B\u7F6E\u304D\u63DB\u3048\u3066\u304F\u3060\u3055\u3044\u3002\u30D5\u30A1\u30A4\u30EB\u540D\u306F\u4E0D\u8981\u3067\u3059\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["Docker \u306E\u30D1\u30B9\u304C\u6B63\u3057\u3044\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",(0,i.jsx)(n.code,{children:"which docker"}),"\u30B3\u30DE\u30F3\u30C9\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u65B0\u3057\u3044",(0,i.jsx)(n.code,{children:"docker compose"}),"\u30B3\u30DE\u30F3\u30C9\u3092\u4F7F\u7528\u3057\u3066\u3044\u308B\u3053\u3068\u306B\u6CE8\u610F\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u30B5\u30FC\u30D3\u30B9\u306E\u8D77\u52D5",children:"\u30B5\u30FC\u30D3\u30B9\u306E\u8D77\u52D5"}),"\n",(0,i.jsx)(n.p,{children:"Systemd \u306B\u65B0\u3057\u3044\u30B5\u30FC\u30D3\u30B9\u8A2D\u5B9A\u3092\u518D\u8AAD\u307F\u8FBC\u307F\u3055\u305B\u307E\u3059\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl daemon-reload\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u30B5\u30FC\u30D3\u30B9\u3092\u8D77\u52D5\u3057\u307E\u3059\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl enable pypiserver.service\nsudo systemctl start pypiserver.service\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u72B6\u614B\u306E\u78BA\u8A8D",children:"\u72B6\u614B\u306E\u78BA\u8A8D"}),"\n",(0,i.jsx)(n.p,{children:"\u30B5\u30FC\u30D3\u30B9\u306E\u73FE\u5728\u306E\u72B6\u614B\u3092\u78BA\u8A8D\u3057\u305F\u3044\u5834\u5408\u306F\u3001\u4EE5\u4E0B\u306E\u30B3\u30DE\u30F3\u30C9\u3092\u5B9F\u884C\u3057\u307E\u3059\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl status pypiserver.service\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u3053\u308C\u306B\u3088\u308A\u3001",(0,i.jsx)(n.code,{children:"pypiserver"}),"\u30B5\u30FC\u30D3\u30B9\u306E\u73FE\u5728\u306E\u72B6\u614B\u3084\u5B9F\u884C\u4E2D\u304B\u3069\u3046\u304B\u3001\u6700\u65B0\u306E\u30ED\u30B0\u51FA\u529B\u304C\u8868\u793A\u3055\u308C\u307E\u3059\u3002"]}),"\n",(0,i.jsx)("div",{align:"center",children:(0,i.jsx)("figure",{style:{width:"80%"},children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"pypiserver status",src:s(47219).Z+"",width:"2048",height:"707"})})})}),"\n",(0,i.jsx)(n.h2,{id:"\u4F7F\u3044\u59CB\u3081\u308B",children:"\u4F7F\u3044\u59CB\u3081\u308B"}),"\n",(0,i.jsxs)(n.p,{children:["\u3053\u308C\u3067\u3001",(0,i.jsx)(n.code,{children:"pip"}),"\u3092\u4F7F\u3063\u3066\u30D1\u30C3\u30B1\u30FC\u30B8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u30FB\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3067\u304D\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3057\u305F\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u30D1\u30C3\u30B1\u30FC\u30B8\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",children:"\u30D1\u30C3\u30B1\u30FC\u30B8\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9"}),"\n",(0,i.jsxs)(n.p,{children:["\u307E\u305A\u3001",(0,i.jsx)(n.code,{children:"example_package-0.1-py3-none-any.whl"}),"\u3068\u3044\u3046\u540D\u524D\u306E\u30D1\u30C3\u30B1\u30FC\u30B8\u304C\u3042\u308B\u3068\u4EEE\u5B9A\u3057\u307E\u3059\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u6B21\u306B\u3001",(0,i.jsx)(n.code,{children:"twine"}),"\u30C4\u30FC\u30EB\u3092\u4F7F\u3063\u3066\u30D1\u30C3\u30B1\u30FC\u30B8\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u307E\u3059\uFF1A"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pip install twine\ntwine upload --repository-url http://localhost:8080/ example_package-0.1-py3-none-any.whl\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"localhost:8080"}),"\u306F\u3042\u306A\u305F\u306E pypiserver \u30B5\u30FC\u30D3\u30B9\u306E\u30A2\u30C9\u30EC\u30B9\u3068\u30DD\u30FC\u30C8\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u30D1\u30C3\u30B1\u30FC\u30B8\u306E\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3068\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",children:"\u30D1\u30C3\u30B1\u30FC\u30B8\u306E\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3068\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"pip"}),"\u3092\u4F7F\u3063\u3066\u30D1\u30C3\u30B1\u30FC\u30B8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B\u969B\u3001",(0,i.jsx)(n.code,{children:"pypiserver"}),"\u30B5\u30FC\u30D3\u30B9\u306E\u30A2\u30C9\u30EC\u30B9\u3068\u30DD\u30FC\u30C8\u3092\u6307\u5B9A\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\uFF1A"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pip install --index-url http://localhost:8080/ example_package\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u57FA\u672C\u8A8D\u8A3C\u306E\u4F7F\u7528",children:"\u57FA\u672C\u8A8D\u8A3C\u306E\u4F7F\u7528"}),"\n",(0,i.jsx)(n.p,{children:"pypiserver \u306B\u57FA\u672C\u8A8D\u8A3C\u3092\u8A2D\u5B9A\u3057\u305F\u5834\u5408\u3001\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3084\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u6642\u306B\u8A8D\u8A3C\u60C5\u5831\u3092\u63D0\u4F9B\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\uFF1A"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u30D1\u30C3\u30B1\u30FC\u30B8\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3059\u308B\u5834\u5408\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"twine upload \\\n  --repository-url http://localhost:8080/ \\\n  --username [username] \\\n  --password [password] \\\n  example_package-0.1-py3-none-any.whl\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u30D1\u30C3\u30B1\u30FC\u30B8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B\u5834\u5408\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pip install \\\n  --index-url http://[username]:[password]@localhost:8080/ \\\n  example_package\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"pipconf\u306E\u8A2D\u5B9A",children:[(0,i.jsx)(n.code,{children:"pip.conf"}),"\u306E\u8A2D\u5B9A"]}),"\n",(0,i.jsxs)(n.p,{children:["\u3053\u306E\u30B5\u30FC\u30D0\u30FC\u304B\u3089\u983B\u7E41\u306B\u30D1\u30C3\u30B1\u30FC\u30B8\u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3059\u308B\u5834\u5408\u3001\u6BCE\u56DE",(0,i.jsx)(n.code,{children:"pip install"}),"\u3067",(0,i.jsx)(n.code,{children:"--index-url"}),"\u3092\u6307\u5B9A\u3057\u305F\u304F\u3042\u308A\u307E\u305B\u3093\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u305D\u306E\u305F\u3081\u3001\u95A2\u9023\u3059\u308B\u8A2D\u5B9A\u60C5\u5831\u3092",(0,i.jsx)(n.code,{children:"pip.conf"}),"\u306B\u66F8\u304D\u8FBC\u3080\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB",children:"\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"pip.conf"}),"\u30D5\u30A1\u30A4\u30EB\u306F\u4EE5\u4E0B\u306E\u5834\u6240\u306B\u5B58\u5728\u3059\u308B\u5834\u5408\u304C\u3042\u308A\u307E\u3059\u3002\u512A\u5148\u9806\u4F4D\u306B\u5F93\u3063\u3066\u691C\u7D22\u3057\u307E\u3059\uFF1A"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u512A\u5148\u9806\u4F4D 1: \u30B5\u30A4\u30C8\u30EC\u30D9\u30EB\u306E\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\uFF1A"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/home/[\u30E6\u30FC\u30B6\u30FC\u540D]/.pyenv/versions/3.8.18/envs/main/pip.conf"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u512A\u5148\u9806\u4F4D 2: \u30E6\u30FC\u30B6\u30FC\u30EC\u30D9\u30EB\u306E\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\uFF1A"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/home/[\u30E6\u30FC\u30B6\u30FC\u540D]/.pip/pip.conf"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/home/[\u30E6\u30FC\u30B6\u30FC\u540D]/.config/pip/pip.conf"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u512A\u5148\u9806\u4F4D 3: \u30B0\u30ED\u30FC\u30D0\u30EB\u30EC\u30D9\u30EB\u306E\u8A2D\u5B9A\u30D5\u30A1\u30A4\u30EB\uFF1A"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/etc/pip.conf"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/etc/xdg/pip/pip.conf"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u73FE\u5728\u306E Python \u74B0\u5883\u304C\u3069\u306E\u30D5\u30A1\u30A4\u30EB\u3092\u4F7F\u7528\u3059\u308B\u304B\u3092\u78BA\u8A8D\u3057\u3001\u305D\u306E\u30D5\u30A1\u30A4\u30EB\u306B\u4EE5\u4E0B\u306E\u5185\u5BB9\u3092\u8FFD\u52A0\u3057\u307E\u3059\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"[global]\nindex-url = http://[\u30B5\u30FC\u30D3\u30B9\u63D0\u4F9B\u8005\u306EIP\u30A2\u30C9\u30EC\u30B9]:8080/\ntrusted-host = [\u30B5\u30FC\u30D3\u30B9\u63D0\u4F9B\u8005\u306EIP\u30A2\u30C9\u30EC\u30B9]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u518D\u5EA6\u3001",(0,i.jsx)(n.code,{children:"[\u30B5\u30FC\u30D3\u30B9\u63D0\u4F9B\u8005\u306EIP\u30A2\u30C9\u30EC\u30B9]:8080"}),"\u3092\u6B63\u3057\u3044",(0,i.jsx)(n.code,{children:"pypiserver"}),"\u306E\u30A2\u30C9\u30EC\u30B9\u3068\u30DD\u30FC\u30C8\u306B\u7F6E\u304D\u63DB\u3048\u3066\u304F\u3060\u3055\u3044\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u8A2D\u5B9A\u304C\u5B8C\u4E86\u3057\u305F\u5F8C\u3001",(0,i.jsx)(n.code,{children:"pip install [package_name]"}),"\u3092\u5B9F\u884C\u3059\u308B\u3068\u3001",(0,i.jsx)(n.code,{children:"pip.conf"}),"\u3067\u8A2D\u5B9A\u3057\u305F\u30B5\u30FC\u30D0\u30FC\u30A2\u30C9\u30EC\u30B9\u304C\u81EA\u52D5\u7684\u306B\u4F7F\u7528\u3055\u308C\u307E\u3059\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u7D50\u8A9E",children:"\u7D50\u8A9E"}),"\n",(0,i.jsx)(n.p,{children:"\u3053\u308C\u3067\u3001PyPiServer \u3092\u69CB\u7BC9\u3057\u3001\u30D1\u30C3\u30B1\u30FC\u30B8\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3068\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3092\u884C\u3046\u65B9\u6CD5\u3092\u5B66\u3073\u307E\u3057\u305F\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u3053\u306E\u8A18\u4E8B\u304C\u3042\u306A\u305F\u306E\u554F\u984C\u89E3\u6C7A\u306B\u5F79\u7ACB\u3063\u305F\u3053\u3068\u3092\u9858\u3063\u3066\u3044\u307E\u3059\u3002"})]})}function t(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},47219:function(e,n,s){s.d(n,{Z:function(){return r}});let r=s.p+"assets/images/pypiserver-3a82a5ef370f8387611a4c2322e85a8a.jpg"},50065:function(e,n,s){s.d(n,{Z:function(){return d},a:function(){return l}});var r=s(67294);let i={},c=r.createContext(i);function l(e){let n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(c.Provider,{value:n},e.children)}},67171:function(e){e.exports=JSON.parse('{"permalink":"/ja/blog/setting-up-pypiserver-on-ubuntu-with-docker","source":"@site/i18n/ja/docusaurus-plugin-content-blog/2023/09-13-ubuntu-docker-pypiserver/index.md","title":"PyPiServer\u306E\u8A2D\u5B9A\u8A18\u9332","description":"Ubuntu\u3067PyPiServer\u3092\u8A2D\u5B9A\u3059\u308B\u904E\u7A0B\u306E\u8A18\u9332\u3002","date":"2023-09-13T00:00:00.000Z","tags":[{"inline":true,"label":"docker","permalink":"/ja/blog/tags/docker"},{"inline":true,"label":"pypiserver","permalink":"/ja/blog/tags/pypiserver"}],"readingTime":7.53,"hasTruncateMarker":true,"authors":[{"name":"Z. Yuan","title":"Engineer","url":"https://github.com/Z. Yuan-sh","imageURL":"https://github.com/Z. Yuan-sh.png","key":"Z. Yuan","page":null}],"frontMatter":{"slug":"setting-up-pypiserver-on-ubuntu-with-docker","title":"PyPiServer\u306E\u8A2D\u5B9A\u8A18\u9332","authors":"Z. Yuan","tags":["docker","pypiserver"],"image":"/ja/img/2023/0913.webp","description":"Ubuntu\u3067PyPiServer\u3092\u8A2D\u5B9A\u3059\u308B\u904E\u7A0B\u306E\u8A18\u9332\u3002"},"unlisted":false,"prevItem":{"title":"\u30E2\u30C7\u30EB\u30C8\u30EC\u30FC\u30CB\u30F3\u30B0\u74B0\u5883\u306E\u554F\u984C\u8A18\u9332\u3068\u30C8\u30E9\u30D6\u30EB\u30B7\u30E5\u30FC\u30C6\u30A3\u30F3\u30B0","permalink":"/ja/blog/python-env-info-collector"},"nextItem":{"title":"Ubuntu \u3067 SSH \u30B5\u30FC\u30D0\u30FC\u3092\u8A2D\u5B9A\u3059\u308B","permalink":"/ja/blog/ubuntu-install-ssh"}}')}}]);