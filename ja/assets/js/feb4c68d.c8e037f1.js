"use strict";(self.webpackChunkdocsaid_website=self.webpackChunkdocsaid_website||[]).push([["29959"],{34148:function(n,e,t){t.r(e),t.d(e,{metadata:()=>i,contentTitle:()=>c,default:()=>p,assets:()=>a,toc:()=>d,frontMatter:()=>o});var i=JSON.parse('{"id":"capybara/funcs/onnxengine/onnxengine","title":"ONNXEngine","description":"ONNXEngine(modelpath int = 0, backend Dict[str, Any] = {}, provideroption: Dict[str, Any] = {})","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/capybara/funcs/onnxengine/onnxengine.md","sourceDirName":"capybara/funcs/onnxengine","slug":"/capybara/funcs/onnxengine/","permalink":"/ja/docs/capybara/funcs/onnxengine/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"zephyr-sh","lastUpdatedAt":1734942587000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"get_onnx_metadata","permalink":"/ja/docs/capybara/funcs/onnxengine/get_onnx_metadata"},"next":{"title":"write_metadata_into_onnx","permalink":"/ja/docs/capybara/funcs/onnxengine/write_metadata_into_onnx"}}'),s=t("85893"),r=t("50065");let o={},c="ONNXEngine",a={},d=[];function l(n){let e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"onnxengine",children:"ONNXEngine"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.a,{href:"https://github.com/DocsaidLab/Capybara/blob/975d62fba4f76db59e715c220f7a2af5ad8d050e/capybara/onnxengine/engine.py#L18",children:["ONNXEngine(model_path: Union[str, Path], gpu_id: int = 0, backend: Union[str, int, Backend] = Backend.cpu, session_option: Dict[str, Any] = ",", provider_option: Dict[str, Any] = ",")"]})}),"\n"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8AAC\u660E"}),"\uFF1AONNX \u30E2\u30C7\u30EB\u63A8\u8AD6\u30A8\u30F3\u30B8\u30F3\u3092\u521D\u671F\u5316\u3057\u307E\u3059\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u30D1\u30E9\u30E1\u30FC\u30BF"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"model_path"})," (",(0,s.jsx)(e.code,{children:"Union[str, Path]"}),")\uFF1A\u30D5\u30A1\u30A4\u30EB\u540D\u307E\u305F\u306F\u30B7\u30EA\u30A2\u30E9\u30A4\u30BA\u3055\u308C\u305F ONNX \u307E\u305F\u306F ORT \u5F62\u5F0F\u306E\u30E2\u30C7\u30EB\u306E\u30D0\u30A4\u30C8\u6587\u5B57\u5217\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"gpu_id"})," (",(0,s.jsx)(e.code,{children:"int"}),")\uFF1AGPU ID\u3002\u30C7\u30D5\u30A9\u30EB\u30C8\u306F 0\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"backend"})," (",(0,s.jsx)(e.code,{children:"Union[str, int, Backend]"}),")\uFF1A\u63A8\u8AD6\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u3002",(0,s.jsx)(e.code,{children:"Backend.cpu"})," \u307E\u305F\u306F ",(0,s.jsx)(e.code,{children:"Backend.cuda"})," \u3092\u9078\u629E\u53EF\u80FD\u3002\u30C7\u30D5\u30A9\u30EB\u30C8\u306F ",(0,s.jsx)(e.code,{children:"Backend.cpu"}),"\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"session_option"})," (",(0,s.jsx)(e.code,{children:"Dict[str, Any]"}),")\uFF1Aonnxruntime.SessionOptions \u306E\u30D1\u30E9\u30E1\u30FC\u30BF\u3067\u3001\u30BB\u30C3\u30B7\u30E7\u30F3\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002\u30C7\u30D5\u30A9\u30EB\u30C8\u306F ",(0,s.jsx)(e.code,{children:"{}"}),"\u3002\u8A73\u7D30\u8A2D\u5B9A\u306B\u3064\u3044\u3066\u306F\uFF1A",(0,s.jsx)(e.a,{href:"https://onnxruntime.ai/docs/api/python/api_summary.html#onnxruntime.SessionOptions",children:"SessionOptions"})," \u3092\u53C2\u7167\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"provider_option"})," (",(0,s.jsx)(e.code,{children:"Dict[str, Any]"}),")\uFF1Aonnxruntime.provider_options \u306E\u30D1\u30E9\u30E1\u30FC\u30BF\u3002\u30C7\u30D5\u30A9\u30EB\u30C8\u306F ",(0,s.jsx)(e.code,{children:"{}"}),"\u3002\u8A73\u7D30\u8A2D\u5B9A\u306B\u3064\u3044\u3066\u306F\uFF1A",(0,s.jsx)(e.a,{href:"https://onnxruntime.ai/docs/execution-providers/CUDA-ExecutionProvider.html#configuration-options",children:"CUDAExecutionProvider"})," \u3092\u53C2\u7167\u3057\u3066\u304F\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u63A8\u8AD6"})}),"\n",(0,s.jsx)(e.p,{children:"\u30E2\u30C7\u30EB\u3092\u30ED\u30FC\u30C9\u3059\u308B\u969B\u306B\u3001\u95A2\u6570\u306F ONNX \u30D5\u30A1\u30A4\u30EB\u5185\u306E\u60C5\u5831\u3092\u8AAD\u307F\u8FBC\u307F\u3001\u5165\u529B\u3068\u51FA\u529B\u5024\u306B\u5BFE\u3057\u3066\u3001\u5F62\u72B6\u3068\u30C7\u30FC\u30BF\u578B\u3092\u542B\u3080\u8F9E\u66F8\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002"}),"\n",(0,s.jsxs)(e.p,{children:["\u3057\u305F\u304C\u3063\u3066\u3001",(0,s.jsx)(e.code,{children:"ONNXEngine"})," \u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u3092\u547C\u3073\u51FA\u3059\u3068\u3001\u305D\u306E\u8F9E\u66F8\u3092\u4F7F\u3063\u3066\u51FA\u529B\u7D50\u679C\u3092\u76F4\u63A5\u53D6\u5F97\u3067\u304D\u307E\u3059\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u4F8B"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"import capybara as cb\n\nmodel_path = 'model.onnx'\nengine = cb.ONNXEngine(model_path)\nprint(engine)\n\n# \u63A8\u8AD6\n# \u30E2\u30C7\u30EB\u306B\u306F2\u3064\u306E\u5165\u529B\u30682\u3064\u306E\u51FA\u529B\u304C\u3042\u308A\u3001\u305D\u308C\u305E\u308C\u540D\u524D\u304C\u4ED8\u3051\u3089\u308C\u3066\u3044\u308B\u3068\u4EEE\u5B9A\uFF1A\n#   'input1', 'input2', 'output1', 'output2'\u3002\ninput_data = {\n    'input1': np.random.randn(1, 3, 224, 224).astype(np.float32),\n    'input2': np.random.randn(1, 3, 224, 224).astype(np.float32),\n}\n\noutputs = engine(**input_data)\n\noutput_data1 = outputs['output1']\noutput_data2 = outputs['output2']\n"})}),"\n"]}),"\n"]})]})}function p(n={}){let{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(l,{...n})}):l(n)}},50065:function(n,e,t){t.d(e,{Z:function(){return c},a:function(){return o}});var i=t(67294);let s={},r=i.createContext(s);function o(n){let e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);